(this["webpackJsonp@zettel/site"]=this["webpackJsonp@zettel/site"]||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(6),l=n(8),c=n(0),o=n(15),i=(n(92),n(10)),u=n(9),s=n(1),d=n(4),m=n.n(d),f=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[Italic][And Bold]",ranges:[{offset:0,length:5,styles:["bold"]},{offset:3,length:10,styles:["italic"]}]})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{renderStyle:function(e){return"bold"===e.style?c.createElement("strong",null,e.children):"italic"===e.style?c.createElement("i",null,e.children):"underline"===e.style?c.createElement("u",null,e.children):c.createElement(c.Fragment,null,e.children)},htmlAttrs:{className:"editor"},onKeyDown:function(e){return"b"===e.key&&e.metaKey?n.toggleStyle("bold"):"i"===e.key&&e.metaKey?n.toggleStyle("italic"):"u"===e.key&&e.metaKey?n.toggleStyle("underline"):void 0},onChange:a,editorState:n})},h=n(33),b=n(72),g=n.n(b),p=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return c.createElement("button",Object.assign({className:g.a.button},n),t)},O=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[Headline 1][Headline 2][A paragraph]",ranges:[{offset:0,length:1,styles:["H1"]},{offset:12,length:1,styles:["H2"]}]})})),t=Object(r.a)(e,2),n=t[0],l=t[1];return c.createElement(c.Fragment,null,c.createElement("div",null,c.createElement(p,{onClick:function(){var e=Object(s.getBlocksForRange)(n.list.value,n.start,n.end),t=n.start,r=n.end,c=e.reduce((function(e,t){var n=e.list.value[t.blockOffset];return e.change({start:t.blockOffset-1,end:t.blockOffset,value:[Object(a.a)(Object(a.a)({},n),{},{styles:(n.styles||[]).includes("H1")?[]:["H1"]})]})}),n).change({start:t,end:r,isBoundary:!0});l(c)}},"H1")),c.createElement(m.a,{renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block;if(null!=r.styles){if(r.styles.includes("H1"))return c.createElement("h1",t,n);if(r.styles.includes("H2"))return c.createElement("h2",t,n)}return c.createElement("div",t,n)},htmlAttrs:{className:"editor"},onChange:l,editorState:n}))},E=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[]})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})};function v(){var e=Object(l.a)(["\n  padding: 0 1em;\n"]);return v=function(){return e},e}var j=u.a.div(v()),y=function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[]})})),o=Object(r.a)(l,2),i=o[0],u=o[1];return c.createElement("div",null,c.createElement(j,null,c.createElement("p",null,"Uncheck this box to edit."),c.createElement("label",null,c.createElement("input",{onChange:function(){return a(!n)},type:"checkbox",name:"readonly",checked:n})," read only")),c.createElement(m.a,{readOnly:n,htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:u,editorState:i}))},S=(n(143),function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One Line[Another line[And another line]]][And another line of text][And another line]",ranges:[]})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("div",Object.assign({},t,{className:"tree-node"}),n,c.createElement(d.EditorChildren,Object.assign({},e,{blocks:e.block.blocks})))},editorState:n})}),k=n(34),x=n.n(k),C=(n(144),function(e){var t=e.block,n=e.children,r=Object(s.valueToText)(t.value.slice(3)),a=r.match(/^([a-z]+)\s/);if(null!=a&&null!=x.a.languages[a[1]]){var l=t.value.slice(0,3+a[0].length),o=r.substr(a[0].length);return x.a.tokenize(o,x.a.languages[a[1]]).forEach((function(e){return function e(t,n){console.log({token:t}),"string"===typeof t?t.split("").forEach((function(e){var t={char:e};n.push(t)})):null!=t&&Array.isArray(t.content)?t.content.forEach((function(t){return e(t,n)})):null!=t&&null!=t.content&&t.content.toString().split("").forEach((function(e){var r={styles:[t.type],char:e};n.push(r)}))}(e,l)})),t.fragments=Object(s.createTextFragments)(l),c.createElement("pre",{style:{color:"white",background:"black",padding:"1em"}},c.createElement(d.EditorText,Object.assign({},e,{block:t})))}return c.createElement("pre",null,n)}),A=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[# Some markdown]\n[```js\nconsole.log('boom')\nfunction sum(a,b){\n  return a + b;\n}]\n[> And here's a block quote]\n",ranges:[]})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderStyle:function(e){return c.createElement("span",{className:"token ".concat(e.style)},e.children)},renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=function e(t){return t.reduce((function(t,n){return"fragments"in n?t+e(n.fragments):t+n.text}),"")}(e.block.fragments);return r.startsWith("# ")?c.createElement("h1",t,n):r.startsWith("## ")?c.createElement("h2",t,n):r.startsWith("### ")?c.createElement("h3",t,n):r.startsWith("> ")?c.createElement("blockquote",t,n):r.startsWith("```")?c.createElement(C,e):c.createElement("div",t,n)},editorState:n})},N=n(51),w=n(16);function F(){var e=Object(l.a)(["\n  min-width: 400px;\n"]);return F=function(){return e},e}function B(){var e=Object(l.a)(["\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return B=function(){return e},e}function T(){var e=Object(l.a)(["\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n"]);return T=function(){return e},e}var J=u.a.div(T()),L=u.a.aside(B()),H=u.a.div(F()),z=function(e){var t=e.styles,n=e.onSelectStyle,l=e.onChange,o=Object(c.useState)(!0),i=Object(r.a)(o,2),u=i[0],s=i[1],d=Object(c.useState)(""),m=Object(r.a)(d,2),f=m[0],h=m[1],b=Object.keys(t),g=t[f];return c.createElement(L,null,u&&c.createElement(H,null,c.createElement("label",null,c.createElement("select",{value:f,onChange:function(e){return h(e.target.value)}},c.createElement("option",{value:""},"None"),b.map((function(e){return c.createElement("option",{key:e},e)}))),c.createElement("button",{onMouseDown:function(e){e.preventDefault(),n(f)}},"Assign")),null!=g?c.createElement("div",null,c.createElement("textarea",{value:g,onChange:function(e){l(Object(a.a)(Object(a.a)({},t),{},Object(w.a)({},f,e.target.value)))}}),c.createElement("button",{onMouseDown:function(){var e=Object(a.a)({},t);delete e[f],l(e),h("")}},"Remove")):c.createElement("div",null,c.createElement("input",{onKeyUp:function(e){if("Enter"===e.key){var n=e.target.value;l(Object(a.a)(Object(a.a)({},t),{},Object(w.a)({},n,""))),h(n)}},type:"text",placeholder:"Add new style, press Enter"}))),c.createElement(J,{onClick:function(){return s(!u)}},u?"  \u3009":"\u3008"))};n(145);function D(){var e=Object(l.a)(["\n            ","\n          "]);return D=function(){return e},e}function K(){var e=Object(l.a)(["\n          ","\n          "]);return K=function(){return e},e}function M(){var e=Object(l.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return M=function(){return e},e}var U=u.a.div(M()),W=Object(N.a)("element-styles"),I=Object(N.a)("editor-state"),R=function(){var e=W({}),t=Object(r.a)(e,2),n=t[0],l=t[1],o=I((function(){return s.EditorState.fromJSON({text:"[One Line][Another Line]",ranges:[]})})),i=Object(r.a)(o,2),d=i[0],f=i[1];return c.createElement(U,null,c.createElement(m.a,{htmlAttrs:{className:"editor"},renderStyle:function(e){var t=e.style,r=e.children,a=u.a.span(K(),n[t]);return c.createElement(a,null,r)},renderBlock:function(e){var t=e.block,a=e.children,l=e.htmlAttrs,o=Object(r.a)(t.styles,1)[0],i=u.a.div(D(),n[o]);return c.createElement(i,l,a)},onChange:f,editorState:d}),c.createElement(z,{onSelectStyle:function(e){var t=d.start,n=d.end,r=d.list,l=e?[e]:[];if(t===n){var c=Object(s.getBlockForIndex)(r.value,t).blockOffset,o=[Object(a.a)(Object(a.a)({},r.value[c]),{},{styles:l})];f(d.change({start:c-1,end:c,value:o}).change({start:t,end:n}))}else{var i=r.value.slice(t+1,n+1).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{styles:l})}));f(d.change({value:i}))}},styles:n,onChange:l}))},_=n(19),q=n(76),P=n(81),G=n.n(P);function Y(){var e=Object(l.a)(["\n  padding: 0;\n  font-size: 0.8em;\n  margin: 0;\n  background: white;\n  border: 1px solid;\n  list-style-type: none;\n  & > li {\n    padding: 0.1em 0.5em;\n    margin: 0;\n    cursor: pointer;\n    &:hover {\n      background: #f0f0f0;\n\n    }\n  }\n"]);return Y=function(){return e},e}var $=u.a.ul(Y()),Q=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[]})})),o=Object(r.a)(l,2),i=o[0],u=o[1],d=["Julian","Bogdan","Mark"].filter((function(e){return e.toLowerCase().startsWith((null===n||void 0===n?void 0:n.toLowerCase())||"")})),f=i.start,b=i.end,g=null!==n,p=f===b;return Object(c.useLayoutEffect)((function(){if(p){var e,t=Object(s.getBlockForIndex)(i.list.value,f),n=null===(e=t.block)||void 0===e?void 0:e.blockKey,r=b-t.blockOffset,l=(n&&Object(s.getBlockText)(i.list,n)||[]).map((function(e){return e.char})).slice(0,r).join("").match(/@([^\s\t\n]*)$/i);a(null!==l?l[1]:null)}else a(null)}),[p,i,b,f]),c.createElement("div",null,c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:u,renderTextFragment:function(e){var t=e.children,n=Object(h.a)(e,["children"]);return c.createElement("span",n,t)},editorState:i}),c.createElement(q.a,{isOpen:g,placementStrategy:G.a},c.createElement($,null,d.map((function(e){return c.createElement("li",{onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),function(e){var t=[{type:"fragment-start",data:{mention:e}}].concat(Object(_.a)(Object(s.valueFromText)(e)),[{type:"fragment-end"}]);u(i.change({start:f,end:b,value:t}))}(e)},key:e},e)})))))};function V(){var e=Object(l.a)(["\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return V=function(){return e},e}function X(){var e=Object(l.a)(["\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n"]);return X=function(){return e},e}function Z(){var e=Object(l.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n"]);return Z=function(){return e},e}var ee=u.a.div(Z()),te=u.a.span(X()),ne=u.a.aside(V()),re=function(){var e=Object(c.useState)('[{\n  "start": 3,\n  "end": 3,\n  "value": [{\n    "char": "\ud83d\udd25"\n  }]\n}]'),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)(!1),o=Object(r.a)(l,2),i=o[0],u=o[1],d=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[]})})),f=Object(r.a)(d,2),h=f[0],b=f[1],g=function(){try{var e=JSON.parse(n);if(!Array.isArray(e))throw new te("SO DUMB");var t=h;e.forEach((function(e){t=h.change(e)})),b(t)}catch(r){u(!0)}};return c.createElement(ee,null,c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:b,editorState:h}),c.createElement(ne,null,i&&c.createElement(te,null,"Your JSON sucks, fix it"),c.createElement("textarea",{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&g()},onChange:function(e){u(!1),a(e.target.value)},value:n}),c.createElement("button",{onClick:g},"Change")))},ae=n(82),le=n.n(ae),ce=(n(165),{}),oe=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One Line][Another line][And another line]",ranges:[]})})),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)(ce),i=Object(r.a)(o,2),u=i[0],d=i[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:l,renderBlock:function(e){var t,n=e.htmlAttrs,r=e.children,l=e.block;return c.createElement(le.a,{handle:".handle",position:(t=l.blockKey,u[t]),onStop:function(e,t){var n=t.x,r=t.y;!function(e,t,n){d(Object(a.a)(Object(a.a)({},u),{},Object(w.a)({},e,{x:t,y:n})))}(l.blockKey,n,r)},scale:1},c.createElement("div",null,c.createElement("div",{contentEditable:!1,className:"handle"}),c.createElement("div",n,r)))},editorState:n})},ie={value:[].concat(Object(_.a)(Object(s.valueFromText)("[One ")),[{type:"fragment-start",data:{mention:"something"}}],Object(_.a)(Object(s.valueFromText)("Two")),[{type:"fragment-end"}],Object(_.a)(Object(s.valueFromText)(" Three]")))},ue=function(){var e=Object(c.useState)((function(){return new s.EditorState({list:ie})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})},se=(n(166),function e(t,n,r){return 0===t?n:e(t-1,r(n),r)});function de(e){var t=e.editorState,n=e.onChange,r=t.undoStack,a=t.redoStack;return c.createElement("div",{className:"timeline"},r.length+a.length===0&&c.createElement("span",{style:{color:"#fff"}},"Start typing something and you'll see your undo states appear here"),r.map((function(e,a){return c.createElement("button",{onClick:function(){return n(se(r.length-a,t,s.undo))},className:"undo-step"})})),a.map((function(e,r){return c.createElement("button",{onClick:function(){return n(se(r+1,t,s.redo))},className:"redo-step"})})))}var me={"Plain Text":E,Changes:re,Mentions:Q,ReadOnly:y,Nocode:R,Fragments:ue,"Basic Text styling":f,"Block Styling":O,Markdown:A,"Recursive Structure":S,"Draggable Blocks":oe,"Time Travel":function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One][Two][Three]",ranges:[]})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(c.Fragment,null,c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}),c.createElement(de,{editorState:n,onChange:a}))}},fe=n(35),he=n(5),be=n(83);function ge(){var e=Object(l.a)(["\n  padding: 1em;\n"]);return ge=function(){return e},e}new(n.n(be).a)({baseFontSize:"18px",baseLineHeight:1.666,headerFontFamily:["Helvetica Neue","Segoe UI","Helvetica","Arial","sans-serif"],bodyFontFamily:["Georgia","serif"]}).injectStyles();var pe=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,179))})),Oe=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,180))})),Ee=u.a.article(ge()),ve=function(e){var t=e.children;return c.createElement(c.Suspense,{fallback:c.createElement("div",null,"Loading...")},c.createElement(Ee,null,t))},je=Object(a.a)({},me),ye=Object.keys(me).map((function(e){return{name:e,path:"/".concat(e.toLowerCase().replace(/\s/gi,"-")),component:je[e]}}));ye.push({path:"/changelog",component:function(){return c.createElement(ve,null,c.createElement(Oe,null))}});var Se=Object(i.a)(),ke=function(e){var t=e.children,n=e.routeComps,a=Object(c.useState)(!1),l=Object(r.a)(a,2),o=l[0],i=l[1],u=function(){return i(!o)};return c.createElement("main",{className:"app ".concat(o?"menu-toggled":"")},c.createElement("button",{onClick:u,id:"menu-button"},"\u2630"),c.createElement("nav",null,c.createElement("ul",null,c.createElement("li",null,c.createElement(fe.a,{onMouseUp:u,to:"/"},"Home")),c.createElement("li",null,c.createElement(fe.a,{onMouseUp:u,to:"/changelog"},"Changelog")),c.createElement("li",null,c.createElement("h3",null,"Examples:"),c.createElement("ul",null,n.map((function(e,t){return c.createElement("li",{onMouseUp:u,key:"".concat(e.path,"-").concat(t)},c.createElement(fe.a,{to:e.path},e.name))})))))),t)},xe=function(){return c.createElement(he.b,{history:Se},c.createElement(ke,{routeComps:ye},c.createElement(he.c,null,ye.map((function(e){return c.createElement(he.a,Object.assign({key:e.path},e))})),c.createElement(he.a,{render:function(){return c.createElement(ve,null,c.createElement(pe,null))}}))))},Ce=document.getElementById("root");null!=Ce&&Ce.hasChildNodes()?Object(o.hydrate)(c.createElement(xe,null),Ce):Object(o.render)(c.createElement(xe,null),Ce)},72:function(e,t,n){e.exports={button:"Button_button__1yaWD"}},87:function(e,t,n){e.exports=n(168)},92:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.cc9e4bb5.chunk.js.map