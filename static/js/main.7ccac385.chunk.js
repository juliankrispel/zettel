(this["webpackJsonp@zettel/site"]=this["webpackJsonp@zettel/site"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),c=n(0),l=n(29),o=(n(76),n(6)),i=n(2),u=n(3),s=n.n(u),d=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[Italic][And Bold]",ranges:[{offset:0,length:5,styles:["bold"]},{offset:3,length:10,styles:["italic"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{renderStyle:function(e){return"bold"===e.style?c.createElement("strong",null,e.children):"italic"===e.style?c.createElement("i",null,e.children):"underline"===e.style?c.createElement("u",null,e.children):c.createElement(c.Fragment,null,e.children)},htmlAttrs:{className:"editor"},onKeyDown:function(e){return"b"===e.key&&e.metaKey?n.toggleStyle("bold"):"i"===e.key&&e.metaKey?n.toggleStyle("italic"):"u"===e.key&&e.metaKey?n.toggleStyle("underline"):void 0},onChange:a,editorState:n})},m=n(70),f=n(61),b=n.n(f),h=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return c.createElement("button",Object.assign({className:b.a.button},n),t)},p=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[Headline 1][Headline 2][A paragraph]",ranges:[{offset:0,length:1,styles:["H1"]},{offset:12,length:1,styles:["H2"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1];return c.createElement(c.Fragment,null,c.createElement("div",null,c.createElement(h,{onClick:function(){var e=Object(i.getBlocksForRange)(n.list.value,n.start,n.end),t=n.start,r=n.end,c=e.reduce((function(e,t){var n=e.list.value[t.blockOffset];return e.change({start:t.blockOffset-1,end:t.blockOffset,value:[Object(a.a)(Object(a.a)({},n),{},{styles:(n.styles||[]).includes("H1")?[]:["H1"]})]})}),n).change({start:t,end:r,isBoundary:!0});l(c)}},"H1")),c.createElement(s.a,{renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block;if(null!=r.styles){if(r.styles.includes("H1"))return c.createElement("h1",t,n);if(r.styles.includes("H2"))return c.createElement("h2",t,n)}return c.createElement("div",t,n)},htmlAttrs:{className:"editor"},onChange:l,editorState:n}))},g=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})},E=(n(118),function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One Line[Another line[And another line]]][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("div",Object.assign({},t,{className:"tree-node"}),n,c.createElement(u.EditorChildren,Object.assign({},e,{blocks:e.block.blocks})))},editorState:n})}),O=(n(119),[{offset:0,length:1,styles:[],entity:"1"}]),v={1:{type:"table"}},y=function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("td",t,n)},j=function(e){var t=e.htmlAttrs,n=e.block;return c.createElement("tr",t,c.createElement(u.EditorChildren,Object.assign({},e,{renderBlock:y,blocks:n.blocks})))},S=function(e){var t=e.htmlAttrs,n=e.block,r=n.entity;return null!=r&&"table"===r.type?c.createElement("table",t,c.createElement(u.EditorChildren,Object.assign({},e,{renderBlock:j,blocks:n.blocks}))):c.createElement(u.DefaultRenderBlock,e)},k=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[[[One][Two]][[Three][Four]]][And a paragraph]",ranges:O,entityMap:v})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},renderBlock:S,onChange:a,editorState:n})},x=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[Try adding one or more # at the beginning of this line and a space]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block.fragments.map((function(e){return e.text})).join("");return r.startsWith("# ")?c.createElement("h1",t,n):r.startsWith("## ")?c.createElement("h2",t,n):r.startsWith("### ")?c.createElement("h3",t,n):r.startsWith("---")?c.createElement("hr",null):c.createElement("div",t,n)},editorState:n})},C=n(8),A=n(41),N=n(9),w=n(13);function B(){var e=Object(C.a)(["\n  min-width: 400px;\n"]);return B=function(){return e},e}function M(){var e=Object(C.a)(["\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return M=function(){return e},e}function J(){var e=Object(C.a)(["\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n"]);return J=function(){return e},e}var F=N.a.div(J()),T=N.a.aside(M()),D=N.a.div(B()),H=function(e){var t=e.styles,n=e.onSelectStyle,l=e.onChange,o=Object(c.useState)(!0),i=Object(r.a)(o,2),u=i[0],s=i[1],d=Object(c.useState)(""),m=Object(r.a)(d,2),f=m[0],b=m[1],h=Object.keys(t),p=t[f];return c.createElement(T,null,u&&c.createElement(D,null,c.createElement("label",null,c.createElement("select",{value:f,onChange:function(e){return b(e.target.value)}},c.createElement("option",{value:""},"None"),h.map((function(e){return c.createElement("option",{key:e},e)}))),c.createElement("button",{onMouseDown:function(e){e.preventDefault(),n(f)}},"Assign")),null!=p?c.createElement("div",null,c.createElement("textarea",{value:p,onChange:function(e){l(Object(a.a)(Object(a.a)({},t),{},Object(w.a)({},f,e.target.value)))}}),c.createElement("button",{onMouseDown:function(){var e=Object(a.a)({},t);delete e[f],l(e),b("")}},"Remove")):c.createElement("div",null,c.createElement("input",{onKeyUp:function(e){if("Enter"===e.key){var n=e.target.value;l(Object(a.a)(Object(a.a)({},t),{},Object(w.a)({},n,""))),b(n)}},type:"text",placeholder:"Add new style, press Enter"}))),c.createElement(F,{onClick:function(){return s(!u)}},u?"  \u3009":"\u3008"))};n(124);function K(){var e=Object(C.a)(["\n            ","\n          "]);return K=function(){return e},e}function L(){var e=Object(C.a)(["\n          ","\n          "]);return L=function(){return e},e}function z(){var e=Object(C.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return z=function(){return e},e}var W=N.a.div(z()),R=Object(A.a)("element-styles"),I=Object(A.a)("editor-state"),U=function(){var e=R({}),t=Object(r.a)(e,2),n=t[0],l=t[1],o=I((function(){return i.EditorState.fromJSON({text:"[One Line][Another Line]",ranges:[],entityMap:{}})})),u=Object(r.a)(o,2),d=u[0],m=u[1];console.log(d);return c.createElement(W,null,c.createElement(s.a,{htmlAttrs:{className:"editor"},renderStyle:function(e){var t=e.style,r=e.children,a=N.a.span(L(),n[t]);return c.createElement(a,null,r)},renderBlock:function(e){var t=e.block,a=e.children,l=e.htmlAttrs,o=Object(r.a)(t.styles,1)[0],i=N.a.div(K(),n[o]);return c.createElement(i,l,a)},onChange:m,editorState:d}),c.createElement(H,{onSelectStyle:function(e){var t=d.start,n=d.end,r=d.list,c=e?[e]:[];if(t===n){var l=Object(i.getBlockForIndex)(r.value,t).blockOffset,o=[Object(a.a)(Object(a.a)({},r.value[l]),{},{styles:c})];m(d.change({start:l-1,end:l,value:o}).change({start:t,end:n}))}else{var u=r.value.slice(t+1,n+1).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{styles:c})}));m(d.change({value:u}))}},styles:n,onChange:l}))};function _(){var e=Object(C.a)(["\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return _=function(){return e},e}function P(){var e=Object(C.a)(["\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n"]);return P=function(){return e},e}function Y(){var e=Object(C.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n"]);return Y=function(){return e},e}var q=N.a.div(Y()),G=N.a.span(P()),Q=N.a.aside(_()),V=function(){var e=Object(c.useState)('[{\n  "start": 3,\n  "end": 3,\n  "value": [{\n    "char": "\ud83d\udd25"\n  }]\n}]'),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)(!1),o=Object(r.a)(l,2),u=o[0],d=o[1],m=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),f=Object(r.a)(m,2),b=f[0],h=f[1],p=function(){try{var e=JSON.parse(n);if(!Array.isArray(e))throw new G("SO DUMB");var t=b;e.forEach((function(e){t=b.change(e)})),h(t)}catch(r){d(!0)}};return c.createElement(q,null,c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:h,editorState:b}),c.createElement(Q,null,u&&c.createElement(G,null,"Your JSON sucks, fix it"),c.createElement("textarea",{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&p()},onChange:function(e){d(!1),a(e.target.value)},value:n}),c.createElement("button",{onClick:p},"Change")))},X=n(65),Z=n.n(X),$=(n(125),{}),ee=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One Line][Another line][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)($),u=Object(r.a)(o,2),d=u[0],m=u[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:l,renderBlock:function(e){var t,n=e.htmlAttrs,r=e.children,l=e.block;return c.createElement(Z.a,{handle:".handle",position:(t=l.blockKey,d[t]),onStop:function(e,t){var n=t.x,r=t.y;!function(e,t,n){m(Object(a.a)(Object(a.a)({},d),{},Object(w.a)({},e,{x:t,y:n})))}(l.blockKey,n,r)},scale:1},c.createElement("div",null,c.createElement("div",{contentEditable:!1,className:"handle"}),c.createElement("div",n,r)))},editorState:n})},te=(n(126),function e(t,n,r){return 0===t?n:e(t-1,r(n),r)});function ne(e){var t=e.editorState,n=e.onChange,r=t.undoStack,a=t.redoStack;return c.createElement("div",{className:"timeline"},r.length+a.length===0&&c.createElement("span",{style:{color:"#fff"}},"Start typing something and you'll see your undo states appear here"),r.map((function(e,a){return c.createElement("button",{onClick:function(){return n(te(r.length-a,t,i.undo))},className:"undo-step"})})),a.map((function(e,r){return c.createElement("button",{onClick:function(){return n(te(r+1,t,i.redo))},className:"redo-step"})})))}var re={"Plain Text":g,Changes:V,Nocode:U,"Basic Text styling":d,"Block Styling":p,Markdown:x,"Recursive Structure":E,"Draggable Blocks":ee,Table:k,"Time Travel":function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One][Two][Three]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(c.Fragment,null,c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}),c.createElement(ne,{editorState:n,onChange:a}))}},ae=n(66),ce=n(12),le=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,137))})),oe=function(){return c.createElement(c.Suspense,{fallback:c.createElement("div",null,"Loading...")},c.createElement(le,null))},ie=Object(a.a)({},re),ue=Object.keys(re).map((function(e){return{name:e,path:"/".concat(e.toLowerCase().replace(/\s/gi,"-")),component:ie[e]}})),se=Object(o.a)(),de=function(e){var t=e.children,n=e.routeComps,a=Object(c.useState)(!1),l=Object(r.a)(a,2),o=l[0],i=l[1],u=function(){return i(!o)};return c.createElement("main",{className:"app ".concat(o?"menu-toggled":"")},c.createElement("nav",null,c.createElement("ul",null,n.map((function(e){return c.createElement("li",{onMouseUp:u,key:e.path},c.createElement(ae.a,{to:e.path},e.name))})))),c.createElement("button",{onClick:u,id:"menu-button"},o?">":"<"),t)},me=function(){return c.createElement(ce.b,{history:se},c.createElement(de,{routeComps:ue},c.createElement(ce.c,null,ue.map((function(e){return c.createElement(ce.a,e)})),c.createElement(ce.a,{render:function(){return c.createElement(oe,null)}}))))},fe=document.getElementById("root");null!=fe&&fe.hasChildNodes()?Object(l.hydrate)(c.createElement(me,null),fe):Object(l.render)(c.createElement(me,null),fe)},61:function(e,t,n){e.exports={button:"Button_button__1yaWD"}},71:function(e,t,n){e.exports=n(128)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.7ccac385.chunk.js.map