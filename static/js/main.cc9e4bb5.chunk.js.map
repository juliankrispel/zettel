{"version":3,"sources":["examples/ItalicAndBold/index.tsx","components/Button/index.tsx","examples/BlockStyling/index.tsx","examples/PlainText/index.tsx","examples/ReadOnly/index.tsx","examples/Tree/index.tsx","examples/MarkdownTest/index.tsx","examples/Nocode/StyleEditor.tsx","examples/Nocode/index.tsx","examples/Mentions/index.tsx","examples/Changes/index.tsx","examples/Draggable/index.tsx","examples/Fragments/index.tsx","examples/TimeTravel/Timeline.tsx","examples/TimeTravel/index.tsx","examples/index.tsx","typography.ts","index.tsx","components/Button/index.module.css"],"names":["App","useState","EditorState","fromJSON","text","ranges","offset","length","styles","editorState","setEditorState","renderStyle","props","style","children","htmlAttrs","className","onKeyDown","event","key","metaKey","toggleStyle","onChange","button","Button","onClick","blocks","getBlocksForRange","list","value","start","end","_editorState","reduce","newEditorState","block","blockOffset","change","includes","isBoundary","renderBlock","spellCheck","autoFocus","Container","styled","div","readOnly","setReadonly","type","name","checked","Code","valueToText","slice","matches","match","prism","languages","actualText","substr","tokenize","forEach","token","processToken","console","log","split","_char","char","push","Array","isArray","content","_tok","toString","fragments","createTextFragments","color","background","padding","reduceToText","currentText","fragment","startsWith","Toggle","Aside","aside","Inside","onSelectStyle","isOpen","setIsOpen","selectedStyle","setSelectedStyle","styleKeys","Object","keys","target","map","onMouseDown","preventDefault","newStyles","onKeyUp","placeholder","useStyles","createPersistedState","useEditorState","setStyles","Fragment","span","Block","StyleEditor","styleList","getBlockForIndex","val","MentionsPopover","ul","filter","setFilter","matchingMentions","ment","toLowerCase","isCollapsed","useLayoutEffect","blockKey","blockEnd","searchText","getBlockText","ch","join","renderTextFragment","placementStrategy","placeRightBelow","mention","e","stopPropagation","data","valueFromText","insertMention","Error","currentChanges","setCurrentChanges","hasError","setHasError","submitChange","changes","JSON","parse","err","emptyPositions","positions","setPosition","handle","position","onStop","x","y","updatePosition","scale","contentEditable","recurse","num","method","Timeline","undoStack","redoStack","_","index","undo","item","redo","Examples","PlainText","Changes","Mentions","ReadOnly","Nocode","Fragments","ItalicAndBold","BlockStyling","MarkdownTest","Tree","Draggable","Typography","baseFontSize","baseLineHeight","headerFontFamily","bodyFontFamily","injectStyles","Readme","lazy","Changelog","article","Content","fallback","exampleModules","_routeComps","path","replace","component","history","createBrowserHistory","Layout","routeComps","flag","setFlag","toggleFlag","id","onMouseUp","to","route","i","Root","render","rootElement","document","getElementById","hasChildNodes","hydrate","module","exports"],"mappings":"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","file":"static/js/main.cc9e4bb5.chunk.js","sourcesContent":["import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport Editor from '@zettel/react'\n\nconst text = `[Italic][And Bold]`\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [{\n      offset: 0,\n      length: 5,\n      styles: ['bold'],\n    }, {\n      offset: 3,\n      length: 10,\n      styles: ['italic'],\n    }],\n  }))\n\n  return (\n    <Editor\n      renderStyle={(props) => {\n        if (props.style === 'bold') {\n          return <strong>{props.children}</strong>\n        } else if (props.style === 'italic') {\n          return <i>{props.children}</i>\n        } else if (props.style === 'underline') {\n          return <u>{props.children}</u>\n        }\n\n        return <>{props.children}</>\n      }}\n      htmlAttrs={{ className: 'editor'}}\n      onKeyDown={(event) => {\n        if (event.key === 'b' && event.metaKey) {\n          return editorState.toggleStyle('bold')\n        } else if (event.key === 'i' && event.metaKey) {\n          return editorState.toggleStyle('italic')\n        } else if (event.key === 'u' && event.metaKey) {\n          return editorState.toggleStyle('underline')\n        }\n      }}\n      onChange={setEditorState}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react'\nimport styles from './index.module.css'\n\ntype Props = {\n  children: any,\n  onClick?: React.MouseEventHandler\n}\n\nexport default function ({ children, ...props }: Props) {\n  return <button className={styles.button} {...props}>\n    {children}\n  </button>\n}","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState, getBlocksForRange } from '@zettel/core'\nimport Editor from '@zettel/react'\nimport { Button } from '../../components'\n\nconst text = `[Headline 1][Headline 2][A paragraph]`\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [{\n      offset: 0,\n      length: 1,\n      styles: ['H1']\n    }, {\n      offset: 12,\n      length: 1,\n      styles: ['H2']\n    }]\n  }))\n\n  return (\n    <>\n      <div>\n        <Button onClick={() => {\n          const blocks = getBlocksForRange(editorState.list.value, editorState.start, editorState.end)\n          const { start, end } = editorState\n\n          const _editorState = blocks.reduce((newEditorState, block) => {\n            // @ts-ignore\n            const value: BlockStart = newEditorState.list.value[block.blockOffset]\n            return newEditorState.change({\n              start: block.blockOffset - 1,\n              end: block.blockOffset,\n              value: [{\n                ...value,\n                styles: (value.styles || []).includes('H1') ? [] : ['H1'],\n              }]\n            })\n          }, editorState)\n          .change({ start, end, isBoundary: true })\n          setEditorState(_editorState)\n        }}>\n          H1\n        </Button>\n      </div>\n      <Editor\n        renderBlock={(props) => {\n          const { htmlAttrs, children, block } = props\n          if (block.styles != null) {\n            if (block.styles.includes('H1')) {\n              return <h1 {...htmlAttrs}>{children}</h1>\n            } else if (block.styles.includes('H2')) {\n              return <h2 {...htmlAttrs}>{children}</h2>\n            }\n          }\n          return <div {...htmlAttrs}>{children}</div>\n        }}\n        htmlAttrs={{ className: 'editor'}}\n        onChange={setEditorState}\n        editorState={editorState}\n      />\n    </>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport Editor from '@zettel/react'\n\nconst text = `[One ðŸ˜…Line][And another line of text][And another line]`\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  return (\n    <Editor\n      htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n      onChange={setEditorState}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport styled from 'styled-components'\nimport Editor from '@zettel/react'\n\nconst Container = styled.div`\n  padding: 0 1em;\n`\n\nconst text = `[One ðŸ˜…Line][And another line of text][And another line]`\n\nconst App = () => {\n  const [readOnly, setReadonly] = useState(true)\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  return (\n    <div>\n      <Container>\n        <p>Uncheck this box to edit.</p>\n        <label><input onChange={() => setReadonly(!readOnly)} type=\"checkbox\" name=\"readonly\" checked={readOnly} /> read only</label>\n      </Container>\n      <Editor\n        readOnly={readOnly}\n        htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n        onChange={setEditorState}\n        editorState={editorState}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport Editor, { EditorChildren } from '@zettel/react'\nimport './index.css'\n\nconst text = `[One Line[Another line[And another line]]][And another line of text][And another line]`\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  return (\n    <Editor\n      htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n      onChange={setEditorState}\n      renderBlock={(props) => {\n        const { htmlAttrs, children } = props\n        return <div {...htmlAttrs} className=\"tree-node\">\n          {children}\n          <EditorChildren {...props} blocks={props.block.blocks} />\n        </div>\n      }}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState, Fragment, valueToText, TextCharacter, createTextFragments } from '@zettel/core'\nimport Editor, { EditorText } from '@zettel/react'\nimport prism from 'prismjs'\nimport './prism.css'\n\nconst text = `[# Some markdown]\n[\\`\\`\\`js\\nconsole.log('boom')\\nfunction sum(a,b){\\n  return a + b;\\n}]\n[> And here's a block quote]\n`\n\nconst processToken = (token: any, value: TextCharacter[]) => {\n  console.log({ token })\n  if (typeof token === 'string') {\n    token.split('').forEach(_char => {\n      const char: TextCharacter  = {\n        char: _char\n      }\n      value.push(char)\n    })\n  } else if (token != null && Array.isArray(token.content)) {\n    token.content.forEach((_tok: any) => processToken(_tok, value))\n  } else if (token != null && token.content != null) {\n    token.content.toString().split('').forEach((_char: string) => {\n      const char: TextCharacter  = {\n        styles: [token.type],\n        char: _char\n      }\n      value.push(char)\n    })\n  }\n}\n\nconst Code = (props: any) => {\n  const { block, children } = props\n  const text = valueToText(block.value.slice(3))\n  const matches = text.match(/^([a-z]+)\\s/)\n  if (matches != null && prism.languages[matches[1]] != null) {\n    const value: TextCharacter[] = block.value.slice(0, 3 + matches[0].length)\n    const actualText = text.substr(matches[0].length)\n    const tokens = prism.tokenize(actualText, prism.languages[matches[1]])\n    tokens.forEach((token) => processToken(token, value))\n\n    block.fragments = createTextFragments(value)\n    return <pre style={{ color: 'white', background: 'black', padding: '1em'}}>\n      <EditorText {...props} block={block} />\n    </pre>\n  } else {\n    return <pre>\n      {children}\n    </pre>\n  }\n}\n\nconst reduceToText = (fragments: Fragment[]): string => {\n  return fragments.reduce((currentText, fragment) => {\n    if ('fragments' in fragment) {\n      return currentText + reduceToText(fragment.fragments)\n    } else {\n      return currentText + fragment.text\n    }\n  }, '')\n}\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  return (\n    <Editor\n      htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n      onChange={setEditorState}\n      renderStyle={(props) => {\n        return <span className={`token ${props.style}`}>{props.children}</span>\n      }}\n      renderBlock={(props) => {\n        const { htmlAttrs, children, block } = props\n        const text = reduceToText(block.fragments)\n\n        if (text.startsWith('# ')) {\n          return <h1 {...htmlAttrs}>{children}</h1>\n        }\n\n        if (text.startsWith('## ')) {\n          return <h2 {...htmlAttrs}>{children}</h2>\n        }\n\n        if (text.startsWith('### ')) {\n          return <h3 {...htmlAttrs}>{children}</h3>\n        }\n\n        if (text.startsWith('> ')) {\n          return <blockquote {...htmlAttrs}>{children}</blockquote>\n        }\n\n        if (text.startsWith('```')) {\n          return <Code {...props} />\n        }\n\n        return <div {...htmlAttrs}>{children}</div>\n      }}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport styled from 'styled-components'\n\ntype Props = {\n  styles: Object,\n  onChange: (styles: Object) => void,\n  onSelectStyle: (style: string) => void\n}\n\nconst Toggle = styled.div`\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n`\n\nconst Aside = styled.aside`\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n`\n\nconst Inside = styled.div`\n  min-width: 400px;\n`\n\nexport default ({\n  styles,\n  onSelectStyle,\n  onChange\n}: Props) => {\n  const [isOpen, setIsOpen] = useState(true)\n  const [selectedStyle, setSelectedStyle] = useState('')\n  const styleKeys = Object.keys(styles)\n  const onKeyUp = (event: any) => {\n    if (event.key === 'Enter') {\n      const name = event.target.value\n      onChange({\n        ...styles,\n        [name]: ''\n      })\n      setSelectedStyle(name)\n    }\n  }\n\n  const onStyleChange = (event: any) => {\n    onChange({\n      ...styles,\n      [selectedStyle]: event.target.value\n    })\n  }\n\n  const style = styles[selectedStyle]\n\n  const onAssign = (event: any) => {\n    event.preventDefault()\n    onSelectStyle(selectedStyle)\n  }\n\n  const onRemove = () => {\n    const newStyles = {\n      ...styles\n    }\n    delete newStyles[selectedStyle]\n    onChange(newStyles)\n    setSelectedStyle('')\n  }\n\n  return <Aside>\n    {isOpen && <Inside>\n      <label>\n        <select value={selectedStyle} onChange={(event) => setSelectedStyle(event.target.value)}>\n          <option value={\"\"}>None</option>\n          {styleKeys.map(key => <option key={key} >{key}</option>)}\n        </select>\n        <button onMouseDown={onAssign}>Assign</button>\n      </label>\n      {style != null\n        ? <div>\n            <textarea value={style} onChange={onStyleChange} />\n            <button onMouseDown={onRemove}>Remove</button>\n          </div>\n        : <div>\n            <input onKeyUp={onKeyUp} type=\"text\" placeholder=\"Add new style, press Enter\" />\n        </div>\n      }\n    </Inside>}\n    <Toggle onClick={() => setIsOpen(!isOpen)}>{isOpen ? '  ã€‰': 'ã€ˆ' }</Toggle>\n  </Aside>\n}","import * as React from 'react'\nimport { EditorState, getBlockForIndex } from '@zettel/core'\nimport Editor from '@zettel/react'\n\nimport createPersistedState from 'use-persisted-state';\nimport styled from 'styled-components'\nimport StyleEditor from './StyleEditor'\nimport './index.css'\n\nconst Container = styled.div`\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n`\n\nconst text = '[One Line][Another Line]'\nconst useStyles = createPersistedState('element-styles')\nconst useEditorState = createPersistedState('editor-state')\n\nconst App = () => {\n  const [styles, setStyles] = useStyles({})\n\n  const [editorState, setEditorState] = useEditorState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  const onSelectStyle = (style: string) => {\n    const { start, end, list } = editorState\n    const isCollapsed = start === end\n    const styleList = style ? [style] : []\n\n    if (isCollapsed) {\n      const { blockOffset } = getBlockForIndex(list.value, start)\n      const value = [{\n        ...list.value[blockOffset],\n        styles: styleList\n      }]\n      setEditorState(\n        editorState\n          .change({ start: blockOffset - 1, end: blockOffset, value })\n          .change({ start, end })\n      )\n    } else {\n      const currentSelectedValue = list.value.slice(start + 1, end + 1)\n      const value = currentSelectedValue.map(val => ({\n        ...val,\n        styles: styleList\n      }))\n      setEditorState(editorState.change({ value }))\n    }\n  }\n\n  return (\n    <Container>\n      <Editor\n        htmlAttrs={{ className: 'editor'}}\n        renderStyle={({ style, children }) => {\n          const Fragment = styled.span`\n          ${styles[style]}\n          `\n\n          return <Fragment>{children}</Fragment>\n        }}\n        renderBlock={({ block, children, htmlAttrs}) => {\n          const [style] = block.styles\n          const Block = styled.div`\n            ${styles[style]}\n          `\n          return <Block {...htmlAttrs}>\n            {children}\n          </Block>\n        }}\n        onChange={setEditorState}\n        editorState={editorState}\n      />\n      <StyleEditor onSelectStyle={onSelectStyle} styles={styles} onChange={setStyles} />\n  </Container>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState, getBlockText, getBlockForIndex, Value, valueFromText } from '@zettel/core'\nimport styled from 'styled-components'\nimport Editor from '@zettel/react'\n// @ts-ignore\nimport Popover from 'react-text-selection-popover'\n// @ts-ignore\nimport placeRightBelow from 'react-text-selection-popover/lib/placeRightBelow'\nimport { useLayoutEffect } from 'react';\n\nconst MentionsPopover = styled.ul`\n  padding: 0;\n  font-size: 0.8em;\n  margin: 0;\n  background: white;\n  border: 1px solid;\n  list-style-type: none;\n  & > li {\n    padding: 0.1em 0.5em;\n    margin: 0;\n    cursor: pointer;\n    &:hover {\n      background: #f0f0f0;\n\n    }\n  }\n`\n\nconst text = `[One ðŸ˜…Line][And another line of text][And another line]`\n\nconst App = () => {\n  const mentions = [\n    'Julian',\n    'Bogdan',\n    'Mark'\n  ]\n\n  const [filter, setFilter] = useState(null as string | null)\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n  const matchingMentions = mentions.filter(ment => ment.toLowerCase().startsWith(filter?.toLowerCase() || ''))\n  const { start, end } = editorState\n  const isOpen = filter !== null\n  const isCollapsed = start === end\n\n  const insertMention = (mention: string) => {\n    const value: Value = [\n      { type: 'fragment-start', data: { mention }},\n      ...valueFromText(mention),\n      { type: 'fragment-end'}\n    ]\n    setEditorState(editorState.change({\n      start,\n      end,\n      value\n    }))\n  }\n\n  useLayoutEffect(() => {\n    if (isCollapsed) {\n      const block = getBlockForIndex(editorState.list.value, start)\n      const blockKey = block.block?.blockKey\n      const blockEnd = end - block.blockOffset\n      const blockTextChars = blockKey ? getBlockText(editorState.list, blockKey) || [] : []\n      const blockText = blockTextChars.map(ch => ch.char).slice(0, blockEnd).join('')\n      const searchText = blockText.match(/@([^\\s\\t\\n]*)$/i)\n\n      if (searchText !== null) {\n        setFilter(searchText[1])\n      } else {\n        setFilter(null)\n      }\n    } else {\n      setFilter(null)\n    }\n  }, [isCollapsed, editorState, end, start])\n// console.log(getBlock)\n\n  return (\n    <div>\n      <Editor\n        htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n        onChange={setEditorState}\n        renderTextFragment={({ children, ...htmlAttrs }) => {\n          return <span {...htmlAttrs}>{children}</span>\n        }}\n        editorState={editorState}\n      />\n      <Popover\n        isOpen={isOpen}\n        placementStrategy={placeRightBelow}\n      >\n        <MentionsPopover>\n          {matchingMentions.map(mention => (<li onMouseDown={(e) => { e.preventDefault(); e.stopPropagation(); insertMention(mention) }} key={mention}>{mention}</li>))}\n        </MentionsPopover>\n      </Popover>\n    </div>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport Editor from '@zettel/react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  padding: 0;\n  height: 100%;\n`\n\nconst Error = styled.span`\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n`\n\nconst Aside = styled.aside`\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n`\n\nconst text = `[One ðŸ˜…Line][And another line of text][And another line]`\n\nconst App = () => {\n  const [currentChanges, setCurrentChanges] = useState(`[{\n  \"start\": 3,\n  \"end\": 3,\n  \"value\": [{\n    \"char\": \"ðŸ”¥\"\n  }]\n}]`)\n  const [hasError, setHasError] = useState(false)\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  const onChangeChange = (event: any) => {\n    setHasError(false)\n    setCurrentChanges(event.target.value)\n  }\n\n  const submitChange = () => {\n    try {\n      const changes = JSON.parse(currentChanges)\n      if (!Array.isArray(changes)) {\n        // @ts-ignore\n        throw new Error(\"SO DUMB\")\n      }\n      let newEditorState = editorState\n      changes.forEach(change => {\n        newEditorState = editorState.change(change)\n      })\n      setEditorState(newEditorState)\n    } catch (err) {\n      setHasError(true)\n    }\n  }\n\n  return (\n    <Container>\n      <Editor\n        htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n        onChange={setEditorState}\n        editorState={editorState}\n      />\n      <Aside>\n        {hasError && <Error>Your JSON sucks, fix it</Error>}\n        <textarea\n        onKeyDown={(event: any) => {\n          if (event.key === 'Enter' && event.metaKey) {\n            submitChange()\n          }\n        }}\n        onChange={onChangeChange} value={currentChanges}/>\n        <button onClick={submitChange}>Change</button>\n      </Aside>\n    </Container>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport Draggable from 'react-draggable';\nimport { EditorState } from '@zettel/core'\nimport Editor, { RenderBlock } from '@zettel/react'\nimport './index.css'\n\nconst text = `[One Line][Another line][And another line]`\n\nconst emptyPositions: { [key: string]: {x: number, y: number} } = {}\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: []\n  }))\n\n  const [positions, setPosition] = useState(emptyPositions);\n\n  const updatePosition = (key: string, x: number, y: number) => {\n    setPosition({\n      ...positions,\n      [key]: { x, y }\n    })\n  }\n\n  const getPosition = (key: string) => {\n    return positions[key]\n  }\n\n  const renderBlock: RenderBlock = (props) => {\n    const { htmlAttrs, children, block } = props\n\n    return <Draggable\n      handle=\".handle\"\n      position={getPosition(block.blockKey)}\n      onStop={(event, { x, y }) => {\n        updatePosition(block.blockKey, x, y)\n      }}\n      scale={1}\n    >\n      <div>\n        <div contentEditable={false} className=\"handle\"></div>\n        <div {...htmlAttrs}>{children}</div>\n      </div>\n    </Draggable>\n  }\n\n  return (\n    <Editor\n      htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n      onChange={setEditorState}\n      renderBlock={renderBlock}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState, valueFromText, ListState } from '@zettel/core'\nimport Editor from '@zettel/react'\n\nconst list: ListState = {\n  value: [\n    ...valueFromText('[One '),\n    { type: 'fragment-start', data: { mention: 'something' } },\n    ...valueFromText('Two'),\n    { type: 'fragment-end' },\n    ...valueFromText(' Three]'),\n  ]\n}\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => new EditorState({ list }))\n\n  return (\n    <Editor\n      htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n      onChange={setEditorState}\n      editorState={editorState}\n    />\n  );\n}\n\nexport default App;\n","import * as React from 'react'\nimport { EditorState, undo, redo } from '@zettel/core'\nimport './index.css'\n\ntype Props = {\n  editorState: EditorState,\n  onChange: (editorState: EditorState) => void\n}\n\ntype Method = (editorState: EditorState) => EditorState\n\nconst recurse = (num: number, editorState: EditorState, method: Method): EditorState => {\n  if (num === 0) {\n    return editorState\n  }\n  return recurse(num - 1, method(editorState), method)\n}\n\nexport default function Timeline({ editorState, onChange }: Props) {\n  const { undoStack, redoStack } = editorState\n  return <div className=\"timeline\">\n    {(undoStack.length + redoStack.length) === 0 && <span style={{color: '#fff'}}>Start typing something and you'll see your undo states appear here</span>}\n    {undoStack.map((_, index) => (\n      <button\n        onClick={() => onChange(recurse(undoStack.length - index, editorState, undo))}\n        className=\"undo-step\"\n      ></button>\n    ))}\n    {redoStack.map((item, index) => (\n      <button\n        onClick={() => onChange(recurse(index + 1, editorState, redo))}\n        className=\"redo-step\"\n      ></button>\n    ))}\n  </div>\n}\n\n","import * as React from 'react';\nimport { useState } from 'react'\nimport { EditorState } from '@zettel/core'\nimport Editor from '@zettel/react'\nimport Timeline from './Timeline'\n\nconst text = `[One][Two][Three]`\n\nconst App = () => {\n  const [editorState, setEditorState] = useState(() => EditorState.fromJSON({\n    text,\n    ranges: [],\n  }))\n\n  return (\n    <>\n      <Editor\n        htmlAttrs={{ spellCheck: false, autoFocus: true, className: 'editor'}}\n        onChange={setEditorState}\n        editorState={editorState}\n      />\n      <Timeline editorState={editorState} onChange={setEditorState} />\n    </>\n  );\n}\n\nexport default App;\n","import ItalicAndBold from  './ItalicAndBold'\nimport BlockStyling from './BlockStyling'\nimport PlainText from './PlainText'\nimport ReadOnly from './ReadOnly'\nimport Tree from './Tree'\nimport MarkdownTest from './MarkdownTest'\nimport Nocode from './Nocode'\nimport Mentions from './Mentions'\nimport Changes from './Changes'\nimport Draggable from './Draggable'\nimport Fragments from './Fragments'\nimport TimeTravel from './TimeTravel'\n\nconst Examples = {\n  'Plain Text': PlainText,\n  'Changes': Changes,\n  'Mentions': Mentions,\n  'ReadOnly': ReadOnly,\n  'Nocode': Nocode,\n  'Fragments': Fragments,\n  'Basic Text styling': ItalicAndBold,\n  'Block Styling': BlockStyling,\n  'Markdown': MarkdownTest,\n  'Recursive Structure': Tree,\n  'Draggable Blocks': Draggable,\n  'Time Travel': TimeTravel,\n}\n\nexport default Examples","import Typography from 'typography'\n\nconst typography = new Typography({\n  baseFontSize: '18px',\n  baseLineHeight: 1.666,\n  headerFontFamily: ['Helvetica Neue', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],\n  bodyFontFamily: ['Georgia', 'serif'],\n})\n\ntypography.injectStyles()","// @ts-ignore\nimport {importMDX} from 'mdx.macro'\nimport * as React from 'react';\nimport { useState, lazy, Suspense } from 'react';\nimport { render, hydrate} from 'react-dom';\nimport './index.css';\nimport { createBrowserHistory } from 'history'\nimport styled from 'styled-components'\nimport Examples from './examples'\nimport { Router, Route, Link, Switch } from 'react-router-dom'\nimport './typography'\n\nconst Readme = lazy(() => importMDX('../../README.md'))\nconst Changelog = lazy(() => importMDX('../../CHANGELOG.md'))\nconst Container = styled.article`\n  padding: 1em;\n`\n\nconst Content = ({ children }: { children: any}) =>\n  <Suspense fallback={<div>Loading...</div>}>\n    <Container>\n      {children}\n    </Container>\n  </Suspense>\n\nconst exampleModules: { [key: string]: any } = {...Examples}\n\ntype RouteComps = {\n  path: string,\n  component: any\n}[]\n\nconst _routeComps: RouteComps = Object.keys(Examples).map((key: string) => ({\n  name: key,\n  path: `/${key.toLowerCase().replace(/\\s/gi, '-')}`,\n  component: exampleModules[key]\n}))\n\n_routeComps.push({\n  path: `/changelog`,\n  component: () => (<Content><Changelog /></Content>)\n})\n\nconst history = createBrowserHistory()\n\ntype LayoutProps = {\n  children: React.ReactElement,\n  routeComps: RouteComps\n}\n\nconst Layout = ({ children, routeComps }: LayoutProps) => {\n  const [flag, setFlag] = useState(false)\n  const toggleFlag = () => setFlag(!flag)\n\n  return <main className={`app ${flag ? 'menu-toggled': ''}`}>\n    <button onClick={toggleFlag} id=\"menu-button\">&#x2630;</button>\n    <nav>\n      <ul>\n\n        <li><Link onMouseUp={toggleFlag} to={'/'}>Home</Link></li>\n        <li><Link onMouseUp={toggleFlag} to={'/changelog'}>Changelog</Link></li>\n        <li>\n          <h3>Examples:</h3>\n          <ul>\n            {routeComps.map((route: any, i) => (\n              <li onMouseUp={toggleFlag} key={`${route.path}-${i}`}><Link to={route.path}>{route.name}</Link></li>\n            ))}\n          </ul>\n        </li>\n      </ul>\n    </nav>\n    {children}\n  </main>\n}\n\nconst Root = () => <Router history={history}>\n  <Layout routeComps={_routeComps}>\n    <Switch>\n      {_routeComps.map((props) => <Route key={props.path} {...props} />)}\n      <Route render={() => <Content><Readme /></Content>} />\n    </Switch>\n  </Layout>\n</Router>\n\n\nconst rootElement = document.getElementById(\"root\");\n\nif (rootElement != null && rootElement.hasChildNodes()) {\n  hydrate(<Root />, rootElement);\n} else {\n  render(<Root />, rootElement);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1yaWD\"};"],"sourceRoot":""}