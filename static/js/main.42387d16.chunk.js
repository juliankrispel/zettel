(this["webpackJsonp@zettel/site"]=this["webpackJsonp@zettel/site"]||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),c=n(6),l=n(0),o=n(28),i=(n(78),n(8)),u=n(7),s=n(2),d=n(3),m=n.n(d),f=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[Italic][And Bold]",ranges:[{offset:0,length:5,styles:["bold"]},{offset:3,length:10,styles:["italic"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(m.a,{renderStyle:function(e){return"bold"===e.style?l.createElement("strong",null,e.children):"italic"===e.style?l.createElement("i",null,e.children):"underline"===e.style?l.createElement("u",null,e.children):l.createElement(l.Fragment,null,e.children)},htmlAttrs:{className:"editor"},onKeyDown:function(e){return"b"===e.key&&e.metaKey?n.toggleStyle("bold"):"i"===e.key&&e.metaKey?n.toggleStyle("italic"):"u"===e.key&&e.metaKey?n.toggleStyle("underline"):void 0},onChange:a,editorState:n})},h=n(72),b=n(62),g=n.n(b),p=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return l.createElement("button",Object.assign({className:g.a.button},n),t)},E=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[Headline 1][Headline 2][A paragraph]",ranges:[{offset:0,length:1,styles:["H1"]},{offset:12,length:1,styles:["H2"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],c=t[1];return l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement(p,{onClick:function(){var e=Object(s.getBlocksForRange)(n.list.value,n.start,n.end),t=n.start,r=n.end,l=e.reduce((function(e,t){var n=e.list.value[t.blockOffset];return e.change({start:t.blockOffset-1,end:t.blockOffset,value:[Object(a.a)(Object(a.a)({},n),{},{styles:(n.styles||[]).includes("H1")?[]:["H1"]})]})}),n).change({start:t,end:r,isBoundary:!0});c(l)}},"H1")),l.createElement(m.a,{renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block;if(null!=r.styles){if(r.styles.includes("H1"))return l.createElement("h1",t,n);if(r.styles.includes("H2"))return l.createElement("h2",t,n)}return l.createElement("div",t,n)},htmlAttrs:{className:"editor"},onChange:c,editorState:n}))},O=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})},v=(n(126),function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One Line[Another line[And another line]]][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children;return l.createElement("div",Object.assign({},t,{className:"tree-node"}),n,l.createElement(d.EditorChildren,Object.assign({},e,{blocks:e.block.blocks})))},editorState:n})}),y=(n(127),[{offset:0,length:1,styles:[],entity:"1"}]),j={1:{type:"table"}},k=function(e){var t=e.htmlAttrs,n=e.children;return l.createElement("td",t,n)},S=function(e){var t=e.htmlAttrs,n=e.block;return l.createElement("tr",t,l.createElement(d.EditorChildren,Object.assign({},e,{renderBlock:k,blocks:n.blocks})))},x=function(e){var t=e.htmlAttrs,n=e.block,r=n.entity;return null!=r&&"table"===r.type?l.createElement("table",t,l.createElement("tbody",null,l.createElement(d.EditorChildren,Object.assign({},e,{renderBlock:S,blocks:n.blocks})))):l.createElement(d.DefaultRenderBlock,e)},A=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[[[One][Two]][[Three][Four]]][And a paragraph]",ranges:y,entityMap:j})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},renderBlock:x,onChange:a,editorState:n})},C=n(40),N=n.n(C),w=(n(128),function(e){var t=e.block,n=e.children,r=Object(s.valueToText)(t.value.slice(3)),a=r.match(/^([a-z]+)\s/);if(null!=a){var c=t.value.slice(0,3+a[0].length),o=r.substr(a[0].length);return N.a.tokenize(o,N.a.languages[a[1]]).forEach((function(e){return function e(t,n){console.log({token:t}),"string"===typeof t?t.split("").forEach((function(e){var t={char:e};n.push(t)})):null!=t&&Array.isArray(t.content)?t.content.forEach((function(t){return e(t,n)})):null!=t&&null!=t.content&&t.content.toString().split("").forEach((function(e){var r={styles:[t.type],char:e};n.push(r)}))}(e,c)})),t.fragments=Object(s.createTextFragments)(c),l.createElement("pre",{style:{color:"white",background:"black",padding:"1em"}},l.createElement(d.EditorText,Object.assign({},e,{block:t})))}return l.createElement("pre",null,n)}),F=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[# Some markdown]\n[```js\nconsole.log('boom')\nfunction sum(a,b){\n  return a + b;\n}]\n[> And here's a block quote]\n",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderStyle:function(e){return l.createElement("span",{className:"token ".concat(e.style)},e.children)},renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=function e(t){return t.reduce((function(t,n){return"fragments"in n?t+e(n.fragments):t+n.text}),"")}(e.block.fragments);return r.startsWith("# ")?l.createElement("h1",t,n):r.startsWith("## ")?l.createElement("h2",t,n):r.startsWith("### ")?l.createElement("h3",t,n):r.startsWith("> ")?l.createElement("blockquote",t,n):r.startsWith("```")?l.createElement(w,e):l.createElement("div",t,n)},editorState:n})},B=n(41),M=n(13);function J(){var e=Object(c.a)(["\n  min-width: 400px;\n"]);return J=function(){return e},e}function T(){var e=Object(c.a)(["\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return T=function(){return e},e}function H(){var e=Object(c.a)(["\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n"]);return H=function(){return e},e}var L=u.a.div(H()),z=u.a.aside(T()),D=u.a.div(J()),K=function(e){var t=e.styles,n=e.onSelectStyle,c=e.onChange,o=Object(l.useState)(!0),i=Object(r.a)(o,2),u=i[0],s=i[1],d=Object(l.useState)(""),m=Object(r.a)(d,2),f=m[0],h=m[1],b=Object.keys(t),g=t[f];return l.createElement(z,null,u&&l.createElement(D,null,l.createElement("label",null,l.createElement("select",{value:f,onChange:function(e){return h(e.target.value)}},l.createElement("option",{value:""},"None"),b.map((function(e){return l.createElement("option",{key:e},e)}))),l.createElement("button",{onMouseDown:function(e){e.preventDefault(),n(f)}},"Assign")),null!=g?l.createElement("div",null,l.createElement("textarea",{value:g,onChange:function(e){c(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},f,e.target.value)))}}),l.createElement("button",{onMouseDown:function(){var e=Object(a.a)({},t);delete e[f],c(e),h("")}},"Remove")):l.createElement("div",null,l.createElement("input",{onKeyUp:function(e){if("Enter"===e.key){var n=e.target.value;c(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},n,""))),h(n)}},type:"text",placeholder:"Add new style, press Enter"}))),l.createElement(L,{onClick:function(){return s(!u)}},u?"  \u3009":"\u3008"))};n(133);function W(){var e=Object(c.a)(["\n            ","\n          "]);return W=function(){return e},e}function I(){var e=Object(c.a)(["\n          ","\n          "]);return I=function(){return e},e}function R(){var e=Object(c.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return R=function(){return e},e}var U=u.a.div(R()),_=Object(B.a)("element-styles"),q=Object(B.a)("editor-state"),G=function(){var e=_({}),t=Object(r.a)(e,2),n=t[0],c=t[1],o=q((function(){return s.EditorState.fromJSON({text:"[One Line][Another Line]",ranges:[],entityMap:{}})})),i=Object(r.a)(o,2),d=i[0],f=i[1];console.log(d);return l.createElement(U,null,l.createElement(m.a,{htmlAttrs:{className:"editor"},renderStyle:function(e){var t=e.style,r=e.children,a=u.a.span(I(),n[t]);return l.createElement(a,null,r)},renderBlock:function(e){var t=e.block,a=e.children,c=e.htmlAttrs,o=Object(r.a)(t.styles,1)[0],i=u.a.div(W(),n[o]);return l.createElement(i,c,a)},onChange:f,editorState:d}),l.createElement(K,{onSelectStyle:function(e){var t=d.start,n=d.end,r=d.list,c=e?[e]:[];if(t===n){var l=Object(s.getBlockForIndex)(r.value,t).blockOffset,o=[Object(a.a)(Object(a.a)({},r.value[l]),{},{styles:c})];f(d.change({start:l-1,end:l,value:o}).change({start:t,end:n}))}else{var i=r.value.slice(t+1,n+1).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{styles:c})}));f(d.change({value:i}))}},styles:n,onChange:c}))};function P(){var e=Object(c.a)(["\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return P=function(){return e},e}function Y(){var e=Object(c.a)(["\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n"]);return Y=function(){return e},e}function Q(){var e=Object(c.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n"]);return Q=function(){return e},e}var V=u.a.div(Q()),X=u.a.span(Y()),Z=u.a.aside(P()),$=function(){var e=Object(l.useState)('[{\n  "start": 3,\n  "end": 3,\n  "value": [{\n    "char": "\ud83d\udd25"\n  }]\n}]'),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(l.useState)(!1),o=Object(r.a)(c,2),i=o[0],u=o[1],d=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),f=Object(r.a)(d,2),h=f[0],b=f[1],g=function(){try{var e=JSON.parse(n);if(!Array.isArray(e))throw new X("SO DUMB");var t=h;e.forEach((function(e){t=h.change(e)})),b(t)}catch(r){u(!0)}};return l.createElement(V,null,l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:b,editorState:h}),l.createElement(Z,null,i&&l.createElement(X,null,"Your JSON sucks, fix it"),l.createElement("textarea",{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&g()},onChange:function(e){u(!1),a(e.target.value)},value:n}),l.createElement("button",{onClick:g},"Change")))},ee=n(66),te=n.n(ee),ne=(n(134),{}),re=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One Line][Another line][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(l.useState)(ne),i=Object(r.a)(o,2),u=i[0],d=i[1];return l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:c,renderBlock:function(e){var t,n=e.htmlAttrs,r=e.children,c=e.block;return l.createElement(te.a,{handle:".handle",position:(t=c.blockKey,u[t]),onStop:function(e,t){var n=t.x,r=t.y;!function(e,t,n){d(Object(a.a)(Object(a.a)({},u),{},Object(M.a)({},e,{x:t,y:n})))}(c.blockKey,n,r)},scale:1},l.createElement("div",null,l.createElement("div",{contentEditable:!1,className:"handle"}),l.createElement("div",n,r)))},editorState:n})},ae=(n(135),function e(t,n,r){return 0===t?n:e(t-1,r(n),r)});function ce(e){var t=e.editorState,n=e.onChange,r=t.undoStack,a=t.redoStack;return l.createElement("div",{className:"timeline"},r.length+a.length===0&&l.createElement("span",{style:{color:"#fff"}},"Start typing something and you'll see your undo states appear here"),r.map((function(e,a){return l.createElement("button",{onClick:function(){return n(ae(r.length-a,t,s.undo))},className:"undo-step"})})),a.map((function(e,r){return l.createElement("button",{onClick:function(){return n(ae(r+1,t,s.redo))},className:"redo-step"})})))}var le=function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One][Two][Three]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(l.Fragment,null,l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}),l.createElement(ce,{editorState:n,onChange:a}))};function oe(){var e=Object(c.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return oe=function(){return e},e}var ie=u.a.div(oe()),ue={"Plain Text":O,Changes:$,Nocode:G,"Basic Text styling":f,"Block Styling":E,Markdown:F,"Recursive Structure":v,"Draggable Blocks":re,Table:A,"Time Travel":le,"Text Fragments":function(){var e=Object(l.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return l.createElement(ie,null,l.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}))}},se=n(68),de=n(12),me=n(67);function fe(){var e=Object(c.a)(["\n  padding: 1em;\n"]);return fe=function(){return e},e}new(n.n(me).a)({baseFontSize:"18px",baseLineHeight:1.666,headerFontFamily:["Helvetica Neue","Segoe UI","Helvetica","Arial","sans-serif"],bodyFontFamily:["Georgia","serif"]}).injectStyles();var he=Object(l.lazy)((function(){return n.e(3).then(n.bind(null,146))})),be=u.a.article(fe()),ge=function(){return l.createElement(l.Suspense,{fallback:l.createElement("div",null,"Loading...")},l.createElement(be,null,l.createElement(he,null)))},pe=Object(a.a)({},ue),Ee=Object.keys(ue).map((function(e){return{name:e,path:"/".concat(e.toLowerCase().replace(/\s/gi,"-")),component:pe[e]}})),Oe=Object(i.a)(),ve=function(e){var t=e.children,n=e.routeComps,a=Object(l.useState)(!1),c=Object(r.a)(a,2),o=c[0],i=c[1],u=function(){return i(!o)};return l.createElement("main",{className:"app ".concat(o?"menu-toggled":"")},l.createElement("nav",null,l.createElement("ul",null,n.map((function(e,t){return l.createElement("li",{onMouseUp:u,key:"".concat(e.path,"-").concat(t)},l.createElement(se.a,{to:e.path},e.name))})))),l.createElement("button",{onClick:u,id:"menu-button"},o?">":"<"),t)},ye=function(){return l.createElement(de.b,{history:Oe},l.createElement(ve,{routeComps:Ee},l.createElement(de.c,null,Ee.map((function(e){return l.createElement(de.a,Object.assign({key:e.path},e))})),l.createElement(de.a,{render:function(){return l.createElement(ge,null)}}))))},je=document.getElementById("root");null!=je&&je.hasChildNodes()?Object(o.hydrate)(l.createElement(ye,null),je):Object(o.render)(l.createElement(ye,null),je)},62:function(e,t,n){e.exports={button:"Button_button__1yaWD"}},73:function(e,t,n){e.exports=n(137)},78:function(e,t,n){}},[[73,1,2]]]);
//# sourceMappingURL=main.42387d16.chunk.js.map