(this["webpackJsonp@zettel/site"]=this["webpackJsonp@zettel/site"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),c=n(0),l=n(28),o=(n(77),n(8)),i=n(2),u=n(3),s=n.n(u),d=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[Italic][And Bold]",ranges:[{offset:0,length:5,styles:["bold"]},{offset:3,length:10,styles:["italic"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{renderStyle:function(e){return"bold"===e.style?c.createElement("strong",null,e.children):"italic"===e.style?c.createElement("i",null,e.children):"underline"===e.style?c.createElement("u",null,e.children):c.createElement(c.Fragment,null,e.children)},htmlAttrs:{className:"editor"},onKeyDown:function(e){return"b"===e.key&&e.metaKey?n.toggleStyle("bold"):"i"===e.key&&e.metaKey?n.toggleStyle("italic"):"u"===e.key&&e.metaKey?n.toggleStyle("underline"):void 0},onChange:a,editorState:n})},m=n(71),f=n(62),h=n.n(f),b=function(e){var t=e.children,n=Object(m.a)(e,["children"]);return c.createElement("button",Object.assign({className:h.a.button},n),t)},g=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[Headline 1][Headline 2][A paragraph]",ranges:[{offset:0,length:1,styles:["H1"]},{offset:12,length:1,styles:["H2"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1];return c.createElement(c.Fragment,null,c.createElement("div",null,c.createElement(b,{onClick:function(){var e=Object(i.getBlocksForRange)(n.list.value,n.start,n.end),t=n.start,r=n.end,c=e.reduce((function(e,t){var n=e.list.value[t.blockOffset];return e.change({start:t.blockOffset-1,end:t.blockOffset,value:[Object(a.a)(Object(a.a)({},n),{},{styles:(n.styles||[]).includes("H1")?[]:["H1"]})]})}),n).change({start:t,end:r,isBoundary:!0});l(c)}},"H1")),c.createElement(s.a,{renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block;if(null!=r.styles){if(r.styles.includes("H1"))return c.createElement("h1",t,n);if(r.styles.includes("H2"))return c.createElement("h2",t,n)}return c.createElement("div",t,n)},htmlAttrs:{className:"editor"},onChange:l,editorState:n}))},p=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})},E=(n(125),function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One Line[Another line[And another line]]][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("div",Object.assign({},t,{className:"tree-node"}),n,c.createElement(u.EditorChildren,Object.assign({},e,{blocks:e.block.blocks})))},editorState:n})}),O=(n(126),[{offset:0,length:1,styles:[],entity:"1"}]),v={1:{type:"table"}},y=function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("td",t,n)},j=function(e){var t=e.htmlAttrs,n=e.block;return c.createElement("tr",t,c.createElement(u.EditorChildren,Object.assign({},e,{renderBlock:y,blocks:n.blocks})))},k=function(e){var t=e.htmlAttrs,n=e.block,r=n.entity;return null!=r&&"table"===r.type?c.createElement("table",t,c.createElement("tbody",null,c.createElement(u.EditorChildren,Object.assign({},e,{renderBlock:j,blocks:n.blocks})))):c.createElement(u.DefaultRenderBlock,e)},S=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[[[One][Two]][[Three][Four]]][And a paragraph]",ranges:O,entityMap:v})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},renderBlock:k,onChange:a,editorState:n})},x=n(40),A=n.n(x),C=(n(127),function(e){var t=e.block,n=e.children,r=Object(i.valueToText)(t.value.slice(3)),a=r.match(/^([a-z]+)\s/);if(null!=a){var l=t.value.slice(0,3+a[0].length),o=r.substr(a[0].length);return A.a.tokenize(o,A.a.languages[a[1]]).forEach((function(e){return function e(t,n){console.log({token:t}),"string"===typeof t?t.split("").forEach((function(e){var t={char:e};n.push(t)})):null!=t&&Array.isArray(t.content)?t.content.forEach((function(t){return e(t,n)})):null!=t&&null!=t.content&&t.content.toString().split("").forEach((function(e){var r={styles:[t.type],char:e};n.push(r)}))}(e,l)})),t.fragments=Object(i.createTextFragments)(l),c.createElement("pre",{style:{color:"white",background:"black",padding:"1em"}},c.createElement(u.EditorText,Object.assign({},e,{block:t})))}return c.createElement("pre",null,n)}),N=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[# Some markdown]\n[```js\nconsole.log('boom')\nfunction sum(a,b){\n  return a + b;\n}]\n[> And here's a block quote]\n",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderStyle:function(e){return c.createElement("span",{className:"token ".concat(e.style)},e.children)},renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=function e(t){return t.reduce((function(t,n){return"fragments"in n?t+e(n.fragments):t+n.text}),"")}(e.block.fragments);return r.startsWith("# ")?c.createElement("h1",t,n):r.startsWith("## ")?c.createElement("h2",t,n):r.startsWith("### ")?c.createElement("h3",t,n):r.startsWith("> ")?c.createElement("blockquote",t,n):r.startsWith("```")?c.createElement(C,e):c.createElement("div",t,n)},editorState:n})},w=n(6),B=n(41),F=n(7),M=n(13);function J(){var e=Object(w.a)(["\n  min-width: 400px;\n"]);return J=function(){return e},e}function T(){var e=Object(w.a)(["\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return T=function(){return e},e}function D(){var e=Object(w.a)(["\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n"]);return D=function(){return e},e}var H=F.a.div(D()),K=F.a.aside(T()),L=F.a.div(J()),z=function(e){var t=e.styles,n=e.onSelectStyle,l=e.onChange,o=Object(c.useState)(!0),i=Object(r.a)(o,2),u=i[0],s=i[1],d=Object(c.useState)(""),m=Object(r.a)(d,2),f=m[0],h=m[1],b=Object.keys(t),g=t[f];return c.createElement(K,null,u&&c.createElement(L,null,c.createElement("label",null,c.createElement("select",{value:f,onChange:function(e){return h(e.target.value)}},c.createElement("option",{value:""},"None"),b.map((function(e){return c.createElement("option",{key:e},e)}))),c.createElement("button",{onMouseDown:function(e){e.preventDefault(),n(f)}},"Assign")),null!=g?c.createElement("div",null,c.createElement("textarea",{value:g,onChange:function(e){l(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},f,e.target.value)))}}),c.createElement("button",{onMouseDown:function(){var e=Object(a.a)({},t);delete e[f],l(e),h("")}},"Remove")):c.createElement("div",null,c.createElement("input",{onKeyUp:function(e){if("Enter"===e.key){var n=e.target.value;l(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},n,""))),h(n)}},type:"text",placeholder:"Add new style, press Enter"}))),c.createElement(H,{onClick:function(){return s(!u)}},u?"  \u3009":"\u3008"))};n(132);function W(){var e=Object(w.a)(["\n            ","\n          "]);return W=function(){return e},e}function R(){var e=Object(w.a)(["\n          ","\n          "]);return R=function(){return e},e}function I(){var e=Object(w.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return I=function(){return e},e}var U=F.a.div(I()),_=Object(B.a)("element-styles"),q=Object(B.a)("editor-state"),P=function(){var e=_({}),t=Object(r.a)(e,2),n=t[0],l=t[1],o=q((function(){return i.EditorState.fromJSON({text:"[One Line][Another Line]",ranges:[],entityMap:{}})})),u=Object(r.a)(o,2),d=u[0],m=u[1];console.log(d);return c.createElement(U,null,c.createElement(s.a,{htmlAttrs:{className:"editor"},renderStyle:function(e){var t=e.style,r=e.children,a=F.a.span(R(),n[t]);return c.createElement(a,null,r)},renderBlock:function(e){var t=e.block,a=e.children,l=e.htmlAttrs,o=Object(r.a)(t.styles,1)[0],i=F.a.div(W(),n[o]);return c.createElement(i,l,a)},onChange:m,editorState:d}),c.createElement(z,{onSelectStyle:function(e){var t=d.start,n=d.end,r=d.list,c=e?[e]:[];if(t===n){var l=Object(i.getBlockForIndex)(r.value,t).blockOffset,o=[Object(a.a)(Object(a.a)({},r.value[l]),{},{styles:c})];m(d.change({start:l-1,end:l,value:o}).change({start:t,end:n}))}else{var u=r.value.slice(t+1,n+1).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{styles:c})}));m(d.change({value:u}))}},styles:n,onChange:l}))};function Y(){var e=Object(w.a)(["\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return Y=function(){return e},e}function G(){var e=Object(w.a)(["\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n"]);return G=function(){return e},e}function Q(){var e=Object(w.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n"]);return Q=function(){return e},e}var V=F.a.div(Q()),X=F.a.span(G()),Z=F.a.aside(Y()),$=function(){var e=Object(c.useState)('[{\n  "start": 3,\n  "end": 3,\n  "value": [{\n    "char": "\ud83d\udd25"\n  }]\n}]'),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)(!1),o=Object(r.a)(l,2),u=o[0],d=o[1],m=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),f=Object(r.a)(m,2),h=f[0],b=f[1],g=function(){try{var e=JSON.parse(n);if(!Array.isArray(e))throw new X("SO DUMB");var t=h;e.forEach((function(e){t=h.change(e)})),b(t)}catch(r){d(!0)}};return c.createElement(V,null,c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:b,editorState:h}),c.createElement(Z,null,u&&c.createElement(X,null,"Your JSON sucks, fix it"),c.createElement("textarea",{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&g()},onChange:function(e){d(!1),a(e.target.value)},value:n}),c.createElement("button",{onClick:g},"Change")))},ee=n(66),te=n.n(ee),ne=(n(133),{}),re=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One Line][Another line][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)(ne),u=Object(r.a)(o,2),d=u[0],m=u[1];return c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:l,renderBlock:function(e){var t,n=e.htmlAttrs,r=e.children,l=e.block;return c.createElement(te.a,{handle:".handle",position:(t=l.blockKey,d[t]),onStop:function(e,t){var n=t.x,r=t.y;!function(e,t,n){m(Object(a.a)(Object(a.a)({},d),{},Object(M.a)({},e,{x:t,y:n})))}(l.blockKey,n,r)},scale:1},c.createElement("div",null,c.createElement("div",{contentEditable:!1,className:"handle"}),c.createElement("div",n,r)))},editorState:n})},ae=(n(134),function e(t,n,r){return 0===t?n:e(t-1,r(n),r)});function ce(e){var t=e.editorState,n=e.onChange,r=t.undoStack,a=t.redoStack;return c.createElement("div",{className:"timeline"},r.length+a.length===0&&c.createElement("span",{style:{color:"#fff"}},"Start typing something and you'll see your undo states appear here"),r.map((function(e,a){return c.createElement("button",{onClick:function(){return n(ae(r.length-a,t,i.undo))},className:"undo-step"})})),a.map((function(e,r){return c.createElement("button",{onClick:function(){return n(ae(r+1,t,i.redo))},className:"redo-step"})})))}var le=function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One][Two][Three]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(c.Fragment,null,c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}),c.createElement(ce,{editorState:n,onChange:a}))};function oe(){var e=Object(w.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return oe=function(){return e},e}var ie=F.a.div(oe()),ue={"Plain Text":p,Changes:$,Nocode:P,"Basic Text styling":d,"Block Styling":g,Markdown:N,"Recursive Structure":E,"Draggable Blocks":re,Table:S,"Time Travel":le,"Text Fragments":function(){var e=Object(c.useState)((function(){return i.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(ie,null,c.createElement(s.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}))}},se=n(67),de=n(12),me=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,145))})),fe=function(){return c.createElement(c.Suspense,{fallback:c.createElement("div",null,"Loading...")},c.createElement(me,null))},he=Object(a.a)({},ue),be=Object.keys(ue).map((function(e){return{name:e,path:"/".concat(e.toLowerCase().replace(/\s/gi,"-")),component:he[e]}})),ge=Object(o.a)(),pe=function(e){var t=e.children,n=e.routeComps,a=Object(c.useState)(!1),l=Object(r.a)(a,2),o=l[0],i=l[1],u=function(){return i(!o)};return c.createElement("main",{className:"app ".concat(o?"menu-toggled":"")},c.createElement("nav",null,c.createElement("ul",null,n.map((function(e,t){return c.createElement("li",{onMouseUp:u,key:"".concat(e.path,"-").concat(t)},c.createElement(se.a,{to:e.path},e.name))})))),c.createElement("button",{onClick:u,id:"menu-button"},o?">":"<"),t)},Ee=function(){return c.createElement(de.b,{history:ge},c.createElement(pe,{routeComps:be},c.createElement(de.c,null,be.map((function(e){return c.createElement(de.a,Object.assign({key:e.path},e))})),c.createElement(de.a,{render:function(){return c.createElement(fe,null)}}))))},Oe=document.getElementById("root");null!=Oe&&Oe.hasChildNodes()?Object(l.hydrate)(c.createElement(Ee,null),Oe):Object(l.render)(c.createElement(Ee,null),Oe)},62:function(e,t,n){e.exports={button:"Button_button__1yaWD"}},72:function(e,t,n){e.exports=n(136)},77:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.ae2df840.chunk.js.map