(this["webpackJsonp@zettel/site"]=this["webpackJsonp@zettel/site"]||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),l=n(6),c=n(0),o=n(28),i=(n(78),n(8)),u=n(7),s=n(2),d=n(3),m=n.n(d),f=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[Italic][And Bold]",ranges:[{offset:0,length:5,styles:["bold"]},{offset:3,length:10,styles:["italic"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{renderStyle:function(e){return"bold"===e.style?c.createElement("strong",null,e.children):"italic"===e.style?c.createElement("i",null,e.children):"underline"===e.style?c.createElement("u",null,e.children):c.createElement(c.Fragment,null,e.children)},htmlAttrs:{className:"editor"},onKeyDown:function(e){return"b"===e.key&&e.metaKey?n.toggleStyle("bold"):"i"===e.key&&e.metaKey?n.toggleStyle("italic"):"u"===e.key&&e.metaKey?n.toggleStyle("underline"):void 0},onChange:a,editorState:n})},h=n(72),b=n(63),g=n.n(b),p=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return c.createElement("button",Object.assign({className:g.a.button},n),t)},E=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[Headline 1][Headline 2][A paragraph]",ranges:[{offset:0,length:1,styles:["H1"]},{offset:12,length:1,styles:["H2"]}],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1];return c.createElement(c.Fragment,null,c.createElement("div",null,c.createElement(p,{onClick:function(){var e=Object(s.getBlocksForRange)(n.list.value,n.start,n.end),t=n.start,r=n.end,c=e.reduce((function(e,t){var n=e.list.value[t.blockOffset];return e.change({start:t.blockOffset-1,end:t.blockOffset,value:[Object(a.a)(Object(a.a)({},n),{},{styles:(n.styles||[]).includes("H1")?[]:["H1"]})]})}),n).change({start:t,end:r,isBoundary:!0});l(c)}},"H1")),c.createElement(m.a,{renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=e.block;if(null!=r.styles){if(r.styles.includes("H1"))return c.createElement("h1",t,n);if(r.styles.includes("H2"))return c.createElement("h2",t,n)}return c.createElement("div",t,n)},htmlAttrs:{className:"editor"},onChange:l,editorState:n}))},O=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n})},v=(n(126),function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One Line[Another line[And another line]]][And another line of text][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderBlock:function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("div",Object.assign({},t,{className:"tree-node"}),n,c.createElement(d.EditorChildren,Object.assign({},e,{blocks:e.block.blocks})))},editorState:n})}),y=(n(127),[{offset:0,length:1,styles:[],entity:"1"}]),j={1:{type:"table"}},k=function(e){var t=e.htmlAttrs,n=e.children;return c.createElement("td",t,n)},S=function(e){var t=e.htmlAttrs,n=e.block;return c.createElement("tr",t,c.createElement(d.EditorChildren,Object.assign({},e,{renderBlock:k,blocks:n.blocks})))},x=function(e){var t=e.htmlAttrs,n=e.block,r=n.entity;return null!=r&&"table"===r.type?c.createElement("table",t,c.createElement("tbody",null,c.createElement(d.EditorChildren,Object.assign({},e,{renderBlock:S,blocks:n.blocks})))):c.createElement(d.DefaultRenderBlock,e)},A=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[[[One][Two]][[Three][Four]]][And a paragraph]",ranges:y,entityMap:j})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},renderBlock:x,onChange:a,editorState:n})},C=n(29),N=n.n(C),w=(n(128),function(e){var t=e.block,n=e.children,r=Object(s.valueToText)(t.value.slice(3)),a=r.match(/^([a-z]+)\s/);if(null!=a&&null!=N.a.languages[a[1]]){var l=t.value.slice(0,3+a[0].length),o=r.substr(a[0].length);return N.a.tokenize(o,N.a.languages[a[1]]).forEach((function(e){return function e(t,n){console.log({token:t}),"string"===typeof t?t.split("").forEach((function(e){var t={char:e};n.push(t)})):null!=t&&Array.isArray(t.content)?t.content.forEach((function(t){return e(t,n)})):null!=t&&null!=t.content&&t.content.toString().split("").forEach((function(e){var r={styles:[t.type],char:e};n.push(r)}))}(e,l)})),t.fragments=Object(s.createTextFragments)(l),c.createElement("pre",{style:{color:"white",background:"black",padding:"1em"}},c.createElement(d.EditorText,Object.assign({},e,{block:t})))}return c.createElement("pre",null,n)}),B=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[# Some markdown]\n[```js\nconsole.log('boom')\nfunction sum(a,b){\n  return a + b;\n}]\n[> And here's a block quote]\n",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,renderStyle:function(e){return c.createElement("span",{className:"token ".concat(e.style)},e.children)},renderBlock:function(e){var t=e.htmlAttrs,n=e.children,r=function e(t){return t.reduce((function(t,n){return"fragments"in n?t+e(n.fragments):t+n.text}),"")}(e.block.fragments);return r.startsWith("# ")?c.createElement("h1",t,n):r.startsWith("## ")?c.createElement("h2",t,n):r.startsWith("### ")?c.createElement("h3",t,n):r.startsWith("> ")?c.createElement("blockquote",t,n):r.startsWith("```")?c.createElement(w,e):c.createElement("div",t,n)},editorState:n})},F=n(42),M=n(13);function J(){var e=Object(l.a)(["\n  min-width: 400px;\n"]);return J=function(){return e},e}function H(){var e=Object(l.a)(["\n  position: relative;\n  padding: .8em;\n  height: 100%;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 150px;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return H=function(){return e},e}function T(){var e=Object(l.a)(["\nbackground: none;\noutline: none;\ncursor: pointer;\nposition: absolute;\nleft: 0;\ntop: calc(50% - 10px);\nwhite-space: pre;\n"]);return T=function(){return e},e}var z=u.a.div(T()),D=u.a.aside(H()),K=u.a.div(J()),L=function(e){var t=e.styles,n=e.onSelectStyle,l=e.onChange,o=Object(c.useState)(!0),i=Object(r.a)(o,2),u=i[0],s=i[1],d=Object(c.useState)(""),m=Object(r.a)(d,2),f=m[0],h=m[1],b=Object.keys(t),g=t[f];return c.createElement(D,null,u&&c.createElement(K,null,c.createElement("label",null,c.createElement("select",{value:f,onChange:function(e){return h(e.target.value)}},c.createElement("option",{value:""},"None"),b.map((function(e){return c.createElement("option",{key:e},e)}))),c.createElement("button",{onMouseDown:function(e){e.preventDefault(),n(f)}},"Assign")),null!=g?c.createElement("div",null,c.createElement("textarea",{value:g,onChange:function(e){l(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},f,e.target.value)))}}),c.createElement("button",{onMouseDown:function(){var e=Object(a.a)({},t);delete e[f],l(e),h("")}},"Remove")):c.createElement("div",null,c.createElement("input",{onKeyUp:function(e){if("Enter"===e.key){var n=e.target.value;l(Object(a.a)(Object(a.a)({},t),{},Object(M.a)({},n,""))),h(n)}},type:"text",placeholder:"Add new style, press Enter"}))),c.createElement(z,{onClick:function(){return s(!u)}},u?"  \u3009":"\u3008"))};n(133);function U(){var e=Object(l.a)(["\n            ","\n          "]);return U=function(){return e},e}function W(){var e=Object(l.a)(["\n          ","\n          "]);return W=function(){return e},e}function I(){var e=Object(l.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n  border-top: 1px solid #ccc;\n  .editor {\n    padding: 0;\n  }\n"]);return I=function(){return e},e}var R=u.a.div(I()),_=Object(F.a)("element-styles"),q=Object(F.a)("editor-state"),G=function(){var e=_({}),t=Object(r.a)(e,2),n=t[0],l=t[1],o=q((function(){return s.EditorState.fromJSON({text:"[One Line][Another Line]",ranges:[],entityMap:{}})})),i=Object(r.a)(o,2),d=i[0],f=i[1];console.log(d);return c.createElement(R,null,c.createElement(m.a,{htmlAttrs:{className:"editor"},renderStyle:function(e){var t=e.style,r=e.children,a=u.a.span(W(),n[t]);return c.createElement(a,null,r)},renderBlock:function(e){var t=e.block,a=e.children,l=e.htmlAttrs,o=Object(r.a)(t.styles,1)[0],i=u.a.div(U(),n[o]);return c.createElement(i,l,a)},onChange:f,editorState:d}),c.createElement(L,{onSelectStyle:function(e){var t=d.start,n=d.end,r=d.list,l=e?[e]:[];if(t===n){var c=Object(s.getBlockForIndex)(r.value,t).blockOffset,o=[Object(a.a)(Object(a.a)({},r.value[c]),{},{styles:l})];f(d.change({start:c-1,end:c,value:o}).change({start:t,end:n}))}else{var i=r.value.slice(t+1,n+1).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{styles:l})}));f(d.change({value:i}))}},styles:n,onChange:l}))};function P(){var e=Object(l.a)(["\n  position: relative;\n  border-top: 1px solid #ccc;\n  padding: .8em;\n  height: 100%;\n  width: 400px;\n  background: #f0f0f0;\n  border-left: 1px solid #ccc;\n\n  input, select, textarea, button {\n    width: 100%;\n    margin-bottom: 1em;\n    font-size: 0.8em;\n    border-radius: 3px;\n    outline: none;\n  }\n\n  input {\n    padding: .3em;\n    border: 1px solid #ccc;\n  }\n\n  textarea {\n    min-height: 300px;\n    white-space: pre;\n    border: none;\n    padding: .5em;\n    border: 1px solid #ccc;\n    font-family: monospace;\n  }\n\n  label {\n    display: flex;\n    width: 100%;\n  }\n\n  select {\n    margin-right: 1em;\n  }\n\n  button {\n    width: auto;\n    background: #000;\n    padding: .3em .5em;\n    border: none;\n    color: #fff;\n  }\n"]);return P=function(){return e},e}function Y(){var e=Object(l.a)(["\n  color: #f00;\n  font-weight: bold;\n  font-size: .8em;\n"]);return Y=function(){return e},e}function Q(){var e=Object(l.a)(["\n  display: flex;\n  padding: 0;\n  height: 100%;\n"]);return Q=function(){return e},e}var V=u.a.div(Q()),X=u.a.span(Y()),Z=u.a.aside(P()),$=function(){var e=Object(c.useState)('[{\n  "start": 3,\n  "end": 3,\n  "value": [{\n    "char": "\ud83d\udd25"\n  }]\n}]'),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)(!1),o=Object(r.a)(l,2),i=o[0],u=o[1],d=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One \ud83d\ude05Line][And another line of text][And another line]",ranges:[],entityMap:{}})})),f=Object(r.a)(d,2),h=f[0],b=f[1],g=function(){try{var e=JSON.parse(n);if(!Array.isArray(e))throw new X("SO DUMB");var t=h;e.forEach((function(e){t=h.change(e)})),b(t)}catch(r){u(!0)}};return c.createElement(V,null,c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:b,editorState:h}),c.createElement(Z,null,i&&c.createElement(X,null,"Your JSON sucks, fix it"),c.createElement("textarea",{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&g()},onChange:function(e){u(!1),a(e.target.value)},value:n}),c.createElement("button",{onClick:g},"Change")))},ee=n(67),te=n.n(ee),ne=(n(134),{}),re=function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One Line][Another line][And another line]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)(ne),i=Object(r.a)(o,2),u=i[0],d=i[1];return c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:l,renderBlock:function(e){var t,n=e.htmlAttrs,r=e.children,l=e.block;return c.createElement(te.a,{handle:".handle",position:(t=l.blockKey,u[t]),onStop:function(e,t){var n=t.x,r=t.y;!function(e,t,n){d(Object(a.a)(Object(a.a)({},u),{},Object(M.a)({},e,{x:t,y:n})))}(l.blockKey,n,r)},scale:1},c.createElement("div",null,c.createElement("div",{contentEditable:!1,className:"handle"}),c.createElement("div",n,r)))},editorState:n})},ae=(n(135),function e(t,n,r){return 0===t?n:e(t-1,r(n),r)});function le(e){var t=e.editorState,n=e.onChange,r=t.undoStack,a=t.redoStack;return c.createElement("div",{className:"timeline"},r.length+a.length===0&&c.createElement("span",{style:{color:"#fff"}},"Start typing something and you'll see your undo states appear here"),r.map((function(e,a){return c.createElement("button",{onClick:function(){return n(ae(r.length-a,t,s.undo))},className:"undo-step"})})),a.map((function(e,r){return c.createElement("button",{onClick:function(){return n(ae(r+1,t,s.redo))},className:"redo-step"})})))}var ce={"Plain Text":O,Changes:$,Nocode:G,"Basic Text styling":f,"Block Styling":E,Markdown:B,"Recursive Structure":v,"Draggable Blocks":re,Table:A,"Time Travel":function(){var e=Object(c.useState)((function(){return s.EditorState.fromJSON({text:"[One][Two][Three]",ranges:[],entityMap:{}})})),t=Object(r.a)(e,2),n=t[0],a=t[1];return c.createElement(c.Fragment,null,c.createElement(m.a,{htmlAttrs:{spellCheck:!1,autoFocus:!0,className:"editor"},onChange:a,editorState:n}),c.createElement(le,{editorState:n,onChange:a}))}},oe=n(30),ie=n(12),ue=n(68);function se(){var e=Object(l.a)(["\n  padding: 1em;\n"]);return se=function(){return e},e}new(n.n(ue).a)({baseFontSize:"18px",baseLineHeight:1.666,headerFontFamily:["Helvetica Neue","Segoe UI","Helvetica","Arial","sans-serif"],bodyFontFamily:["Georgia","serif"]}).injectStyles();var de=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,147))})),me=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,148))})),fe=u.a.article(se()),he=function(e){var t=e.children;return c.createElement(c.Suspense,{fallback:c.createElement("div",null,"Loading...")},c.createElement(fe,null,t))},be=Object(a.a)({},ce),ge=Object.keys(ce).map((function(e){return{name:e,path:"/".concat(e.toLowerCase().replace(/\s/gi,"-")),component:be[e]}}));ge.push({path:"/changelog",component:function(){return c.createElement(he,null,c.createElement(me,null))}});var pe=Object(i.a)(),Ee=function(e){var t=e.children,n=e.routeComps,a=Object(c.useState)(!1),l=Object(r.a)(a,2),o=l[0],i=l[1],u=function(){return i(!o)};return c.createElement("main",{className:"app ".concat(o?"menu-toggled":"")},c.createElement("button",{onClick:u,id:"menu-button"},"\u2630"),c.createElement("nav",null,c.createElement("ul",null,c.createElement("li",null,c.createElement(oe.a,{onMouseUp:u,to:"/"},"Home")),c.createElement("li",null,c.createElement(oe.a,{onMouseUp:u,to:"/changelog"},"Changelog")),c.createElement("li",null,c.createElement("h3",null,"Examples:"),c.createElement("ul",null,n.map((function(e,t){return c.createElement("li",{onMouseUp:u,key:"".concat(e.path,"-").concat(t)},c.createElement(oe.a,{to:e.path},e.name))})))))),t)},Oe=function(){return c.createElement(ie.b,{history:pe},c.createElement(Ee,{routeComps:ge},c.createElement(ie.c,null,ge.map((function(e){return c.createElement(ie.a,Object.assign({key:e.path},e))})),c.createElement(ie.a,{render:function(){return c.createElement(he,null,c.createElement(de,null))}}))))},ve=document.getElementById("root");null!=ve&&ve.hasChildNodes()?Object(o.hydrate)(c.createElement(Oe,null),ve):Object(o.render)(c.createElement(Oe,null),ve)},63:function(e,t,n){e.exports={button:"Button_button__1yaWD"}},73:function(e,t,n){e.exports=n(137)},78:function(e,t,n){}},[[73,1,2]]]);
//# sourceMappingURL=main.5a9cf364.chunk.js.map