{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../src/Editor.svelte","../src/App.svelte","../node_modules/@zettel/core/dist/findAfter.js","../node_modules/@zettel/core/dist/findBefore.js","../node_modules/@zettel/core/dist/getIndexAfter.js","../node_modules/@zettel/core/dist/getIndexBefore.js","../node_modules/@zettel/core/dist/EditorState/id.js","../node_modules/@zettel/core/dist/rawToFlat.js","../node_modules/@zettel/core/dist/EditorState/change.js","../node_modules/@zettel/core/dist/textToFlat.js","../node_modules/@zettel/core/dist/flatToTree.js","../node_modules/@zettel/core/dist/constants.js","../node_modules/@zettel/core/dist/commands/backspaceToPrevWord.js","../node_modules/@zettel/core/dist/commands/backspaceToBlockStart.js","../node_modules/@zettel/core/dist/commands/redo.js","../node_modules/@zettel/core/dist/commands/undo.js","../node_modules/@zettel/core/dist/commands/backspace.js","../node_modules/@zettel/core/dist/commands/insertCharacter.js","../node_modules/@zettel/core/dist/commands/removeRange.js","../node_modules/@zettel/core/dist/getBlockForIndex.js","../node_modules/@zettel/core/dist/commands/splitBlock.js","../node_modules/@zettel/core/dist/commands/updateSelection.js","../node_modules/@zettel/core/dist/getPreviousCharacterIndex.js","../node_modules/@zettel/core/dist/commands/moveFocusBack.js","../node_modules/@zettel/core/dist/getNextCharacterIndex.js","../node_modules/@zettel/core/dist/commands/moveFocusForward.js","../node_modules/@zettel/core/dist/commands/deleteForward.js","../node_modules/@zettel/core/dist/commands/index.js","../node_modules/@zettel/core/dist/EditorState/EditorState.js","../node_modules/@zettel/core/dist/EditorState/index.js","../node_modules/@zettel/core/dist/getBlockOffset.js","../node_modules/@zettel/core/dist/selection/getDomSelection.js","../node_modules/@zettel/core/dist/handlers/onKeyDown.js","../node_modules/@zettel/core/dist/valueFromText.js","../node_modules/@zettel/core/dist/handlers/onPaste.js","../node_modules/@zettel/core/dist/createTextFragments.js","../node_modules/@zettel/core/dist/getBlocksForRange.js","../node_modules/@zettel/core/dist/textToListIndex.js","../node_modules/@zettel/core/dist/selection/setDomSelection.js","../node_modules/@zettel/core/dist/getBlockNumber.js","../node_modules/@zettel/core/dist/handlers/onInput.js","../node_modules/@zettel/core/dist/handlers/onCut.js","../node_modules/@zettel/core/dist/handlers/onSelectionChange.js","../node_modules/@zettel/core/dist/index.js","../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(component, store, callback) {\n    const unsub = store.subscribe(callback);\n    component.$$.on_destroy.push(unsub.unsubscribe\n        ? () => unsub.unsubscribe()\n        : unsub);\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = cb => requestAnimationFrame(cb);\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction detach_between(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction detach_before(after) {\n    while (after.previousSibling) {\n        after.parentNode.removeChild(after.previousSibling);\n    }\n}\nfunction detach_after(before) {\n    while (before.nextSibling) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n * @param store readable\n */\nfunction get_store_value(store) {\n    let value;\n    const unsubscribe = store.subscribe(_ => value = _);\n    if (unsubscribe.unsubscribe)\n        unsubscribe.unsubscribe();\n    else\n        unsubscribe();\n    return value;\n}\nfunction add_attribute(name, value) {\n    if (!value)\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(value) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, assign, attr, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_element, claim_text, clear_loops, createEventDispatcher, create_animation, create_bidirectional_transition, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, debug, destroy_block, destroy_component, destroy_each, detach, detach_after, detach_before, detach_between, dirty_components, each, element, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_slot_changes, get_slot_context, get_spread_update, get_store_value, globals, group_outros, handle_promise, identity, init, insert, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, loop, measure, missing_component, mount_component, noop, not_equal, now, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_input_type, set_now, set_raf, set_style, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","<script>\n  export let editorState\n  console.log(editorState)\n</script>\n\n<div>\n  {#each editorState.tree.blocks as block}\n    <div>{block.value.map(v => v.char).join('')}</div>\n  {/each}\n</div>","<script>\n  import Editor from './Editor.svelte';\n  export let editorState\n</script>\n\n<Editor editorState={editorState} />","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction findAfter(value, startIndex, find) {\n    for (let i = startIndex; i < value.length; i++) {\n        if (find(value[i])) {\n            return value[i];\n        }\n    }\n}\nexports.default = findAfter;\n//# sourceMappingURL=findAfter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction findBefore(value, startIndex, find) {\n    for (let i = startIndex; i >= 0; i--) {\n        if (find(value[i])) {\n            return value[i];\n        }\n    }\n}\nexports.default = findBefore;\n//# sourceMappingURL=findBefore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getIndexAfter(value, startIndex, find) {\n    for (let i = startIndex + 1; i < value.length; i++) {\n        if (find(value[i])) {\n            return i;\n        }\n    }\n    return null;\n}\nexports.default = getIndexAfter;\n//# sourceMappingURL=getIndexAfter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getIndexBefore(value, startIndex, find) {\n    for (let i = startIndex - 1; i >= -1; i--) {\n        if (find(value[i + 1])) {\n            return i;\n        }\n    }\n    return null;\n}\nexports.default = getIndexBefore;\n//# sourceMappingURL=getIndexBefore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction id() {\n    let firstPart = (Math.random() * 46656) | 0;\n    let secondPart = (Math.random() * 46656) | 0;\n    firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\n    secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\n    return `${firstPart}${secondPart}`;\n}\nexports.default = id;\n//# sourceMappingURL=id.js.map","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./EditorState/id\");\nconst parseFlatState = (raw) => {\n    const state = {\n        value: [],\n        entityMap: raw.entityMap\n    };\n    let ignore = true;\n    raw.text.split('').forEach(char => {\n        if (char === '[') {\n            ignore = false;\n            const val = {\n                type: 'block-start',\n                blockKey: id_1.default()\n            };\n            state.value.push(val);\n        }\n        else if (char === ']') {\n            ignore = true;\n            const val = {\n                type: 'block-end'\n            };\n            state.value.push(val);\n        }\n        else if (ignore === false) {\n            const val = {\n                char,\n                styles: [],\n            };\n            state.value.push(val);\n        }\n    });\n    raw.ranges.forEach((_a) => {\n        var { offset, length, entity: entityKey } = _a, charData = __rest(_a, [\"offset\", \"length\", \"entity\"]);\n        for (var i = offset; i < offset + length; i++) {\n            const value = state.value[i];\n            if (value.type == null || value.type === 'block-start') {\n                const entity = (entityKey != null && state.entityMap[entityKey]) ? entityKey : null;\n                const newValue = Object.assign({}, value, charData);\n                if (entity != null) {\n                    newValue.entity = entity;\n                }\n                state.value[i] = newValue;\n            }\n        }\n    });\n    return state;\n};\nexports.default = parseFlatState;\n//# sourceMappingURL=rawToFlat.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction change(update) {\n    const { value: currentValue, entityMap } = update.current;\n    const [start, end] = [\n        update.change.start,\n        update.change.end,\n    ].sort((a, b) => a - b);\n    const selectedValue = update.current.value.slice(start + 1, end + 1);\n    let valueUpdate = update.change.value;\n    let newValue = update.current.value;\n    if (!Array.isArray(valueUpdate)) {\n        valueUpdate = currentValue.slice(start + 1, end + 1)\n            .map(char => (Object.assign({}, char, valueUpdate)));\n        newValue = currentValue.slice(0, start + 2)\n            .concat(valueUpdate)\n            .concat(currentValue.slice(end + 2));\n    }\n    else {\n        newValue = currentValue.slice(0, start + 1)\n            .concat(valueUpdate)\n            .concat(currentValue.slice(end + 1));\n    }\n    if (newValue[0].type !== 'block-start') {\n        throw new Error('First character always needs to be block-start');\n    }\n    else if (newValue[newValue.length - 1].type !== 'block-end') {\n        throw new Error('Last character always needs to be block-end');\n    }\n    const newChange = {\n        start: start + 1,\n        end: end - selectedValue.length + valueUpdate.length + 1,\n        value: selectedValue\n    };\n    return {\n        current: {\n            value: newValue,\n            entityMap,\n        },\n        change: newChange,\n    };\n}\nexports.default = change;\n//# sourceMappingURL=change.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rawToFlat_1 = require(\"./rawToFlat\");\nconst textToFlat = (text) => {\n    return rawToFlat_1.default({\n        text: `[${text.replace(/\\n/gi, '][')}]`,\n        ranges: [],\n        entityMap: {}\n    });\n};\nexports.default = textToFlat;\n//# sourceMappingURL=textToFlat.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getNode = (state, path) => {\n    return path.reduce((acc, val) => {\n        return acc.blocks[val];\n    }, state);\n};\nconst getNodes = (state, path) => {\n    if (path.length === 0) {\n        return state.blocks;\n    }\n    else {\n        return path.reduce((acc, val) => {\n            return acc[val].blocks || acc;\n        }, state.blocks);\n    }\n};\nconst parseBlockTree = (flat) => {\n    const state = {\n        blocks: [],\n        entityMap: flat.entityMap,\n    };\n    let path = [];\n    flat.value.forEach((char, index) => {\n        if (char.type === 'block-start') {\n            const blocks = getNodes(state, path);\n            blocks.push({\n                value: [],\n                blocks: [],\n                blockKey: char.blockKey,\n                entity: char.entity != null ? flat.entityMap[char.entity] : null\n            });\n            path.push(blocks.length - 1);\n        }\n        else if (char.type === 'block-end') {\n            path.pop();\n        }\n        else {\n            if (path.length === 0) {\n                throw new Error(`Invalid List State`);\n            }\n            const node = getNode(state, path);\n            node.value.push(char);\n        }\n    });\n    return state;\n};\nexports.default = parseBlockTree;\n//# sourceMappingURL=flatToTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.COMMAND = {\n    CHANGE_SELECTION: 'CHANGE_SELECTION',\n    BACKSPACE: 'BACKSPACE',\n    BACKSPACE_BLOCK_START: 'BACKSPACE_BLOCK_START',\n    BACKSPACE_PREV_WORD: 'BACKSPACE_PREV_WORD',\n    REMOVE_RANGE: 'REMOVE_RANGE',\n    DELETE_FORWARD: 'DELETE_FORWARD',\n    INSERT_CHARACTER: 'INSERT_CHARACTER',\n    SPLIT_BLOCK: 'SPLIT_BLOCK',\n    UNDO: 'UNDO',\n    REDO: 'REDO',\n    UPDATE_BLOCK_ENTITIES: 'UPDATE_BLOCK_ENTITIES'\n};\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getIndexBefore_1 = require(\"../getIndexBefore\");\nconst constants_1 = require(\"../constants\");\nfunction backspaceToPrevWord(editorState, start, end) {\n    let newEditorState = editorState;\n    const prevChar = editorState.list.value[start];\n    if (prevChar.type == null) {\n        let spaceBefore = false;\n        let isBlockStart = false;\n        const prevWordEnd = getIndexBefore_1.default(editorState.list.value, start, (ch) => {\n            if (ch.type !== 'block-start' && ch.type !== 'block-end') {\n                spaceBefore = ch.char === ' ';\n            }\n            if (ch.type === 'block-start') {\n                isBlockStart = true;\n                return true;\n            }\n            if (ch.type == null && spaceBefore) {\n                return true;\n            }\n            return false;\n        });\n        if (prevWordEnd != null) {\n            newEditorState = editorState.change({\n                type: constants_1.COMMAND.BACKSPACE_PREV_WORD,\n                start: isBlockStart ? prevWordEnd + 1 : prevWordEnd,\n                end,\n                value: [],\n                isBoundary: true\n            });\n        }\n    }\n    return newEditorState;\n}\nexports.default = backspaceToPrevWord;\n//# sourceMappingURL=backspaceToPrevWord.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getIndexBefore_1 = require(\"../getIndexBefore\");\nconst constants_1 = require(\"../constants\");\nfunction backspaceToBlockStart(editorState, start, end) {\n    const prevChar = editorState.list.value[start - 1];\n    let newEditorState = editorState;\n    if (prevChar.type == null) {\n        const blockBeginning = getIndexBefore_1.default(editorState.list.value, start, (ch) => {\n            if (ch.type === 'block-start') {\n                return true;\n            }\n            return false;\n        });\n        if (blockBeginning != null) {\n            newEditorState = editorState.change({\n                type: constants_1.COMMAND.BACKSPACE_BLOCK_START,\n                start: blockBeginning + 1,\n                end,\n                value: [],\n                isBoundary: true\n            });\n        }\n    }\n    return newEditorState;\n}\nexports.default = backspaceToBlockStart;\n//# sourceMappingURL=backspaceToBlockStart.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EditorState_1 = require(\"../EditorState\");\nconst __1 = require(\"..\");\nconst constants_1 = require(\"../constants\");\nfunction redo(editorState) {\n    if (editorState.redoStack.length === 0) {\n        return null;\n    }\n    const emptyChange = [];\n    let newEditorState = new EditorState_1.default({\n        start: editorState.start,\n        end: editorState.end,\n        list: editorState.list,\n        redoStack: editorState.redoStack,\n        undoStack: [emptyChange].concat([...editorState.undoStack])\n    });\n    const [lastChanges, ...rest] = editorState.redoStack;\n    newEditorState = lastChanges.reduce((editorState, lastChange) => {\n        const updated = __1.change({\n            current: editorState.list,\n            change: Object.assign({}, lastChange, { start: lastChange.start - 1, end: lastChange.end - 1 })\n        });\n        const [lastUndo, ...undoStack] = editorState.undoStack;\n        return new EditorState_1.default({\n            start: updated.change.start,\n            end: updated.change.end,\n            list: updated.current,\n            redoStack: rest,\n            undoStack: [[updated.change].concat(lastUndo || [])].concat(undoStack),\n        });\n    }, newEditorState);\n    return new EditorState_1.default({\n        start: newEditorState.start - 1,\n        lastChangeType: constants_1.COMMAND.REDO,\n        end: newEditorState.end - 1,\n        list: newEditorState.list,\n        redoStack: newEditorState.redoStack,\n        undoStack: newEditorState.undoStack\n    });\n    return editorState.redo();\n}\nexports.default = redo;\n//# sourceMappingURL=redo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EditorState_1 = require(\"../EditorState\");\nconst change_1 = require(\"../EditorState/change\");\nconst constants_1 = require(\"../constants\");\nfunction undo(editorState) {\n    if (editorState.undoStack.length === 0) {\n        return null;\n    }\n    const [lastChanges, ...rest] = editorState.undoStack;\n    const emptyChange = [];\n    let newEditorState = new EditorState_1.default({\n        start: editorState.start,\n        end: editorState.end,\n        list: editorState.list,\n        redoStack: [emptyChange].concat([...editorState.redoStack]),\n        undoStack: editorState.undoStack\n    });\n    newEditorState = lastChanges.reduce((editorState, lastChange) => {\n        const updated = change_1.default({\n            current: editorState.list,\n            change: Object.assign({}, lastChange, { start: lastChange.start - 1, end: lastChange.end - 1 })\n        });\n        const [lastRedo, ...redoStack] = editorState.redoStack;\n        return new EditorState_1.default({\n            start: updated.change.start,\n            end: updated.change.end,\n            list: updated.current,\n            redoStack: [[updated.change].concat(lastRedo || [])].concat(redoStack),\n            undoStack: rest\n        });\n    }, newEditorState);\n    return new EditorState_1.default({\n        start: newEditorState.start - 1,\n        lastChangeType: constants_1.COMMAND.UNDO,\n        end: newEditorState.end - 1,\n        list: newEditorState.list,\n        redoStack: newEditorState.redoStack,\n        undoStack: newEditorState.undoStack\n    });\n}\nexports.default = undo;\n//# sourceMappingURL=undo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getIndexBefore_1 = require(\"../getIndexBefore\");\nconst constants_1 = require(\"../constants\");\nfunction backspace(editorState, start, end) {\n    let newEditorState = editorState;\n    const previousCharIndex = getIndexBefore_1.default(editorState.list.value, start, (ch) => ch.type == null || ch.type === 'block-end');\n    if (previousCharIndex != null) {\n        let _start = previousCharIndex;\n        newEditorState = editorState.change({\n            isBoundary: editorState.lastChangeType !== constants_1.COMMAND.BACKSPACE,\n            type: constants_1.COMMAND.BACKSPACE,\n            start: _start,\n            end,\n            value: []\n        }).change({\n            type: constants_1.COMMAND.BACKSPACE,\n            start: _start,\n            end: _start,\n            value: [],\n        });\n    }\n    return newEditorState;\n}\nexports.default = backspace;\n//# sourceMappingURL=backspace.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nfunction insertCharacter(editorState, start, end, char) {\n    let newEditorState;\n    const prevValue = editorState.list.value[start];\n    const nextValue = editorState.list.value[end + 1];\n    let entity;\n    if (nextValue != null && nextValue.type == null\n        && prevValue != null && prevValue.type == null\n        && prevValue.entity === nextValue.entity) {\n        entity = prevValue.entity;\n    }\n    return editorState.change({\n        isBoundary: editorState.lastChangeType !== constants_1.COMMAND.INSERT_CHARACTER,\n        type: constants_1.COMMAND.INSERT_CHARACTER,\n        start,\n        end,\n        value: [{\n                char: char,\n                styles: editorState.currentStyles,\n                entity,\n            }]\n    }).change({\n        type: constants_1.COMMAND.INSERT_CHARACTER,\n        start: start + 1,\n        end: start + 1,\n        value: [],\n    });\n}\nexports.default = insertCharacter;\n//# sourceMappingURL=insertCharacter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nfunction removeRange(editorState, start, end) {\n    return editorState.change({\n        isBoundary: true,\n        type: constants_1.COMMAND.REMOVE_RANGE,\n        start,\n        end,\n        value: []\n    }).change({\n        type: constants_1.COMMAND.REMOVE_RANGE,\n        start,\n        end: start,\n        value: [],\n    });\n}\nexports.default = removeRange;\n//# sourceMappingURL=removeRange.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getBlockForIndex(value, index) {\n    let block = null;\n    let blockOffset = 0;\n    for (let i = 0; i <= index; i++) {\n        const val = value[i];\n        if (val != null && val.type === 'block-start') {\n            block = val;\n            blockOffset = i;\n        }\n    }\n    return {\n        blockOffset,\n        block\n    };\n}\nexports.default = getBlockForIndex;\n//# sourceMappingURL=getBlockForIndex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBlockForIndex_1 = require(\"../getBlockForIndex\");\nconst id_1 = require(\"../EditorState/id\");\nconst constants_1 = require(\"../constants\");\nfunction splitBlock(editorState, start, end) {\n    const { block: currentBlock } = getBlockForIndex_1.default(editorState.list.value, start);\n    return editorState.change({\n        isBoundary: true,\n        type: constants_1.COMMAND.SPLIT_BLOCK,\n        start,\n        end,\n        value: [\n            { type: 'block-end' },\n            Object.assign({}, currentBlock, { type: 'block-start', blockKey: id_1.default() })\n        ]\n    }).change({\n        type: constants_1.COMMAND.SPLIT_BLOCK,\n        start: start + 2,\n        end: start + 2,\n        value: [],\n    });\n}\nexports.default = splitBlock;\n//# sourceMappingURL=splitBlock.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EditorState_1 = require(\"../EditorState\");\nconst constants_1 = require(\"../constants\");\nfunction updateSelection(editorState, selection) {\n    return new EditorState_1.default(Object.assign({ lastChangeType: constants_1.COMMAND.CHANGE_SELECTION }, editorState, selection));\n}\nexports.default = updateSelection;\n//# sourceMappingURL=updateSelection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getIndexBefore_1 = require(\"./getIndexBefore\");\nfunction getNextCharacterIndex(editorState, currIndex) {\n    const index = getIndexBefore_1.default(editorState.list.value, currIndex, ch => {\n        return ch.type == null;\n    });\n    if (index != null) {\n        return index;\n    }\n    else {\n        return currIndex;\n    }\n}\nexports.default = getNextCharacterIndex;\n//# sourceMappingURL=getPreviousCharacterIndex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst updateSelection_1 = require(\"./updateSelection\");\nconst getPreviousCharacterIndex_1 = require(\"../getPreviousCharacterIndex\");\nfunction moveFocusBack(editorState) {\n    const focusOffset = getPreviousCharacterIndex_1.default(editorState, editorState.focusOffset);\n    return updateSelection_1.default(editorState, {\n        anchorOffset: editorState.anchorOffset,\n        focusOffset: focusOffset\n    });\n}\nexports.default = moveFocusBack;\n//# sourceMappingURL=moveFocusBack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getIndexAfter_1 = require(\"./getIndexAfter\");\nfunction getNextCharacterIndex(editorState, currIndex) {\n    const index = getIndexAfter_1.default(editorState.list.value, currIndex, ch => {\n        return ch.type == null;\n    });\n    if (index != null) {\n        return index;\n    }\n    else {\n        return currIndex;\n    }\n}\nexports.default = getNextCharacterIndex;\n//# sourceMappingURL=getNextCharacterIndex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst updateSelection_1 = require(\"./updateSelection\");\nconst getNextCharacterIndex_1 = require(\"../getNextCharacterIndex\");\nfunction moveFocusForward(editorState) {\n    return updateSelection_1.default(editorState, {\n        anchorOffset: editorState.anchorOffset,\n        focusOffset: getNextCharacterIndex_1.default(editorState, editorState.focusOffset)\n    });\n}\nexports.default = moveFocusForward;\n//# sourceMappingURL=moveFocusForward.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nfunction deleteForward(editorState, start, end) {\n    return editorState.change({\n        isBoundary: editorState.lastChangeType !== constants_1.COMMAND.DELETE_FORWARD,\n        type: constants_1.COMMAND.DELETE_FORWARD,\n        start,\n        end,\n        value: []\n    }).change({\n        type: constants_1.COMMAND.DELETE_FORWARD,\n        start: end + 1,\n        end: end + 1,\n        value: [],\n    });\n}\nexports.default = deleteForward;\n//# sourceMappingURL=deleteForward.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst backspaceToPrevWord_1 = require(\"./backspaceToPrevWord\");\nexports.backspaceToPrevWord = backspaceToPrevWord_1.default;\nconst backspaceToBlockStart_1 = require(\"./backspaceToBlockStart\");\nexports.backspaceToBlockStart = backspaceToBlockStart_1.default;\nconst redo_1 = require(\"./redo\");\nexports.redo = redo_1.default;\nconst undo_1 = require(\"./undo\");\nexports.undo = undo_1.default;\nconst backspace_1 = require(\"./backspace\");\nexports.backspace = backspace_1.default;\nconst insertCharacter_1 = require(\"./insertCharacter\");\nexports.insertCharacter = insertCharacter_1.default;\nconst removeRange_1 = require(\"./removeRange\");\nexports.removeRange = removeRange_1.default;\nconst splitBlock_1 = require(\"./splitBlock\");\nexports.splitBlock = splitBlock_1.default;\nconst updateSelection_1 = require(\"./updateSelection\");\nexports.updateSelection = updateSelection_1.default;\nconst moveFocusBack_1 = require(\"./moveFocusBack\");\nexports.moveFocusBack = moveFocusBack_1.default;\nconst moveFocusForward_1 = require(\"./moveFocusForward\");\nexports.moveFocusForward = moveFocusForward_1.default;\nconst deleteForward_1 = require(\"./deleteForward\");\nexports.deleteForward = deleteForward_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rawToFlat_1 = require(\"../rawToFlat\");\nconst id_1 = require(\"./id\");\nconst change_1 = require(\"./change\");\nconst textToFlat_1 = require(\"../textToFlat\");\nconst flatToTree_1 = require(\"../flatToTree\");\nconst commands_1 = require(\"../commands\");\nconst emptyList = {\n    value: [],\n    entityMap: {}\n};\nclass EditorState {\n    constructor({ start = 0, end = 0, anchorOffset, focusOffset, list = emptyList, lastChangeType = null, currentStyles = [], undoStack = [], redoStack = [] }) {\n        this.redoStack = [];\n        this.undoStack = [];\n        this.list = list;\n        this.undoStack = undoStack;\n        this.currentStyles = currentStyles;\n        this.anchorOffset = typeof anchorOffset === 'number' ? anchorOffset : start;\n        this.focusOffset = typeof focusOffset === 'number' ? focusOffset : end;\n        let [_start, _end] = [this.anchorOffset, this.focusOffset].sort((a, b) => a - b);\n        this.start = _start;\n        this.end = _end;\n        this.lastChangeType = lastChangeType;\n        this.redoStack = redoStack;\n        this.tree = flatToTree_1.default(this.list);\n    }\n    change(_change) {\n        const defaultChange = {\n            start: this.start,\n            end: this.end,\n            value: []\n        };\n        const update = {\n            current: this.list,\n            change: Object.assign({}, defaultChange, _change)\n        };\n        const updated = change_1.default(update);\n        let undoStack = this.undoStack;\n        const [lastUndo, ...undoRest] = this.undoStack;\n        const lastChangeType = _change.type || null;\n        if (Boolean(_change.isBoundary) === false || this.undoStack.length === 0) {\n            undoStack = [[updated.change].concat(lastUndo || [])].concat(undoRest);\n        }\n        else {\n            undoStack = [[updated.change]].concat([lastUndo || []].concat(undoRest));\n        }\n        return new EditorState({\n            start: (updated.change.start || this.start) - 1,\n            end: (updated.change.end || this.end) - 1,\n            currentStyles: this.currentStyles,\n            lastChangeType,\n            list: updated.current,\n            redoStack: [],\n            undoStack\n        });\n    }\n    createEntity(entity) {\n        const entityKey = id_1.default();\n        this.list.entityMap[entityKey] = entity;\n        return entityKey;\n    }\n    undo() {\n        return commands_1.undo(this) || this;\n    }\n    redo() {\n        return commands_1.redo(this) || this;\n    }\n    setCurrentStyles(styles) {\n        this.currentStyles = styles;\n        return this;\n    }\n    toggleStyle(style, _start = this.start, _end = this.end) {\n        const start = _start + 1;\n        const end = _end + 1;\n        const selectedValue = this.list.value.slice(start, end);\n        const hasStyle = selectedValue.every(char => char.type != null ||\n            char.styles.includes(style));\n        const updatedValue = selectedValue.map(char => {\n            const newChar = Object.assign({}, char);\n            if (newChar.type == null) {\n                if (hasStyle) {\n                    newChar.styles = newChar.styles.filter(st => st !== style);\n                }\n                else if (!newChar.styles.includes(style)) {\n                    newChar.styles = newChar.styles.concat([style]);\n                }\n            }\n            return newChar;\n        });\n        let newEditorState = this.change({\n            start,\n            end,\n            isBoundary: true,\n            value: updatedValue\n        });\n        newEditorState.start = _start;\n        newEditorState.end = _end;\n        if (!hasStyle || !this.currentStyles.includes(style)) {\n            newEditorState.currentStyles = newEditorState.currentStyles.concat([style]);\n        }\n        else {\n            newEditorState.currentStyles = newEditorState.currentStyles.filter(st => st !== style);\n        }\n        return newEditorState;\n    }\n    static fromJSON(json) {\n        return new EditorState({\n            list: rawToFlat_1.default(json)\n        });\n    }\n    static fromText(text) {\n        return new EditorState({\n            list: textToFlat_1.default(text)\n        });\n    }\n}\nexports.default = EditorState;\n//# sourceMappingURL=EditorState.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EditorState_1 = require(\"./EditorState\");\nexports.default = EditorState_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getBlockOffset(list, key) {\n    for (let i = 0; i < list.value.length; i++) {\n        const val = list.value[i];\n        if (val.type === 'block-start' && val.blockKey === key) {\n            return i;\n        }\n    }\n    return null;\n}\nexports.default = getBlockOffset;\n//# sourceMappingURL=getBlockOffset.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBlockOffset_1 = require(\"../getBlockOffset\");\nconst getFragmentNode = (el) => {\n    if (el == null) {\n        return null;\n    }\n    if (el.dataset && el.dataset.blockKey != null && el.dataset.fragmentStart != null) {\n        const _el = el;\n        return _el;\n    }\n    else if (el.parentElement) {\n        return getFragmentNode(el.parentElement);\n    }\n    return null;\n};\nexports.default = (listState) => {\n    const domSelection = window.getSelection();\n    if (domSelection == null || domSelection.anchorNode == null) {\n        return null;\n    }\n    let { anchorOffset, focusOffset } = domSelection;\n    const _anchorNode = domSelection.anchorNode;\n    const _focusNode = domSelection.focusNode;\n    const anchorNode = getFragmentNode(_anchorNode);\n    const focusNode = getFragmentNode(_focusNode);\n    if (anchorNode == null || focusNode == null) {\n        return null;\n    }\n    const anchorKey = anchorNode.dataset.blockKey;\n    const focusKey = focusNode.dataset.blockKey;\n    const anchorFragmentOffset = parseInt(anchorNode.dataset.fragmentStart);\n    const focusFragmentOffset = parseInt(focusNode.dataset.fragmentStart);\n    anchorOffset += (getBlockOffset_1.default(listState, anchorKey) || 0) + anchorFragmentOffset;\n    focusOffset += (getBlockOffset_1.default(listState, focusKey) || 0) + focusFragmentOffset;\n    const [start, end] = [anchorOffset, focusOffset].sort((a, b) => a - b);\n    return {\n        start,\n        end,\n        anchorOffset,\n        focusOffset,\n    };\n};\n//# sourceMappingURL=getDomSelection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getDomSelection_1 = require(\"../selection/getDomSelection\");\nconst commands_1 = require(\"../commands\");\nconst actionKeys = ['Backspace', 'Delete', 'Meta', 'Alt', 'Enter', 'Control', 'Shift', 'Tab', 'Escape', 'CapsLock'];\nconst isCharacterInsert = (e) => !e.altKey &&\n    !e.metaKey &&\n    !e.ctrlKey &&\n    !e.key.includes('Arrow') &&\n    !actionKeys.includes(e.key);\nconst isMoveFocus = (e) => e.shiftKey && ['ArrowLeft', 'ArrowRight'].includes(e.key);\nconst isSelectAll = (e) => e.metaKey && e.key.toLowerCase() === 'a';\nconst isUndo = (e) => !e.shiftKey && e.metaKey && e.key === 'z';\nconst isRedo = (e) => e.shiftKey && e.metaKey && e.key === 'z';\nfunction handleKeyDown(editorState, event) {\n    let newEditorState;\n    let position = getDomSelection_1.default(editorState.list);\n    if (position === null) {\n        console.warn('cant get start and end selection, resume with current state');\n        position = {\n            start: editorState.start,\n            end: editorState.end,\n            anchorOffset: editorState.anchorOffset,\n            focusOffset: editorState.focusOffset\n        };\n    }\n    const { start, end } = position;\n    const isCollapsed = start === end;\n    if (isUndo(event)) {\n        newEditorState = commands_1.undo(editorState);\n    }\n    else if (isMoveFocus(event)) {\n        if (event.key === 'ArrowLeft' && event.metaKey) {\n        }\n        else if (event.key === 'ArrowLeft' && event.altKey) {\n        }\n        else if (event.key === 'ArrowLeft') {\n            newEditorState = commands_1.moveFocusBack(editorState);\n        }\n        else if (event.key === 'ArrowRight' && event.metaKey) {\n        }\n        else if (event.key === 'ArrowRight' && event.altKey) {\n        }\n        else if (event.key === 'ArrowRight') {\n            newEditorState = commands_1.moveFocusForward(editorState);\n        }\n    }\n    else if (isSelectAll(event)) {\n        newEditorState = commands_1.updateSelection(editorState, {\n            start: 0,\n            end: editorState.list.value.length - 2,\n            anchorOffset: 0,\n            focusOffset: editorState.list.value.length - 2\n        });\n    }\n    else if (isRedo(event)) {\n        newEditorState = commands_1.redo(editorState);\n    }\n    else if (isCollapsed && event.key === 'Backspace' && event.metaKey === true) {\n        newEditorState = commands_1.backspaceToBlockStart(editorState, start, end);\n    }\n    else if (isCollapsed && event.key === 'Backspace' && event.altKey === true) {\n        newEditorState = commands_1.backspaceToPrevWord(editorState, start, end);\n    }\n    else if (event.key === 'Backspace' && isCollapsed) {\n        newEditorState = commands_1.backspace(editorState, start, end);\n    }\n    else if (event.key === 'Backspace' && !isCollapsed) {\n        newEditorState = commands_1.removeRange(editorState, start, end);\n    }\n    else if (event.key === 'Enter') {\n        newEditorState = commands_1.splitBlock(editorState, start, end);\n    }\n    else if (event.key === 'Delete' && isCollapsed) {\n        newEditorState = commands_1.deleteForward(editorState, start, end);\n    }\n    else if (event.key === 'Delete' && !isCollapsed) {\n        newEditorState = commands_1.removeRange(editorState, start, end);\n    }\n    else if (isCharacterInsert(event)) {\n        newEditorState = commands_1.insertCharacter(editorState, start, end, event.key);\n    }\n    return newEditorState;\n}\nexports.default = handleKeyDown;\n//# sourceMappingURL=onKeyDown.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rawToFlat_1 = require(\"./rawToFlat\");\nconst valueFromText = (text) => {\n    return rawToFlat_1.default({\n        text: `[${text.replace(/\\n/gi, '][')}]`,\n        ranges: [],\n        entityMap: {}\n    }).value.slice(1, -1);\n};\nexports.default = valueFromText;\n//# sourceMappingURL=valueFromText.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst valueFromText_1 = require(\"../valueFromText\");\nconst getDomSelection_1 = require(\"../selection/getDomSelection\");\nfunction onPaste(editorState, event) {\n    const position = getDomSelection_1.default(editorState.list);\n    if (position === null) {\n        console.warn('cant get start and end selection');\n        return editorState;\n    }\n    event.preventDefault();\n    const { start, end } = position;\n    if (event.clipboardData == null) {\n        return editorState;\n    }\n    const text = event.clipboardData.getData('text');\n    const value = valueFromText_1.default(text);\n    const changed = editorState.change({\n        start,\n        end,\n        value,\n    }).change({\n        start: start + value.length,\n        end: start + value.length,\n        value: []\n    });\n    return changed;\n}\nexports.default = onPaste;\n//# sourceMappingURL=onPaste.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hasEqualCharacterData(left = { styles: [] }, right = { styles: [] }) {\n    return left != null && right != null && right.entity === left.entity &&\n        Array.from(left.styles || []).sort().join('') === Array.from(right.styles || []).sort().join('');\n}\nfunction createTextFragments(block, entityMap = {}) {\n    const start = [];\n    return block.value.reduce((acc, data, index) => {\n        if (acc.length < 1) {\n            return [{\n                    styles: data.styles,\n                    entity: data.entity,\n                    offset: index,\n                    text: block.value[index].char\n                }];\n        }\n        else {\n            const lastFragment = acc[acc.length - 1];\n            if (hasEqualCharacterData(lastFragment, data)) {\n                return acc.slice(0, -1).concat([Object.assign({}, lastFragment, { text: lastFragment.text + block.value[index].char })]);\n            }\n            else {\n                return [\n                    ...acc,\n                    {\n                        styles: data.styles,\n                        entity: data.entity,\n                        offset: index,\n                        text: block.value[index].char\n                    }\n                ];\n            }\n        }\n    }, start).map((fragment) => (Object.assign({}, fragment, { entity: fragment.entity != null ? entityMap[fragment.entity] : null })));\n}\nexports.default = createTextFragments;\n//# sourceMappingURL=createTextFragments.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBlockForIndex_1 = require(\"./getBlockForIndex\");\nfunction getBlocksForRange(value, start, end) {\n    const blocks = [getBlockForIndex_1.default(value, start)];\n    return value.slice(start, end).reduce((acc, ch, index) => {\n        if (ch.type === 'block-start') {\n            return acc.concat({\n                blockOffset: start + index,\n                block: ch\n            });\n        }\n        return acc;\n    }, blocks);\n}\nexports.default = getBlocksForRange;\n//# sourceMappingURL=getBlocksForRange.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction textToListIndex(value, textIndex) {\n    let offset = 0;\n    for (let i = 0; i < value.length; i++) {\n        const ch = value[i];\n        if (textIndex === offset && ch.type == null) {\n            return i;\n        }\n        else if (ch.type == null) {\n            offset++;\n        }\n    }\n    return offset;\n}\nexports.default = textToListIndex;\n//# sourceMappingURL=textToListIndex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBlockForIndex_1 = require(\"../getBlockForIndex\");\nconst findRangeTarget = (el) => {\n    if (el == null) {\n        return null;\n    }\n    else if (['#text', 'BR'].includes(el.nodeName)) {\n        return el;\n    }\n    else if (el.childNodes) {\n        const childNodes = Array.from(el.childNodes);\n        for (let i = 0; i <= childNodes.length; i++) {\n            let child = findRangeTarget(childNodes[i]);\n            if (child != null) {\n                return child;\n            }\n        }\n    }\n    return null;\n};\nfunction setDomSelection(editorState, containerNode) {\n    const { list } = editorState;\n    const { block: focusBlock, blockOffset: focusBlockOffset, } = getBlockForIndex_1.default(list.value, editorState.focusOffset);\n    const { block: anchorBlock, blockOffset: anchorBlockOffset, } = getBlockForIndex_1.default(list.value, editorState.anchorOffset);\n    if (focusBlock == null || anchorBlock == null) {\n        return;\n        console.warn('cannot select current start and end position');\n    }\n    const anchorNodes = containerNode.querySelectorAll(`[data-block-key=\"${anchorBlock.blockKey}\"]`);\n    const focusNodes = containerNode.querySelectorAll(`[data-block-key=\"${focusBlock.blockKey}\"]`);\n    const anchorOffset = editorState.anchorOffset - anchorBlockOffset;\n    const focusOffset = editorState.focusOffset - focusBlockOffset;\n    const anchorFragment = Array.from(anchorNodes).find((node) => {\n        return parseInt(node.dataset.fragmentStart) <= anchorOffset &&\n            parseInt(node.dataset.fragmentEnd) >= anchorOffset;\n    });\n    if (anchorFragment == null) {\n        return;\n    }\n    const anchorFragmentOffset = parseInt(anchorFragment.dataset.fragmentStart);\n    const focusFragment = Array.from(focusNodes).find((node) => {\n        return parseInt(node.dataset.fragmentStart) <= focusOffset &&\n            parseInt(node.dataset.fragmentEnd) >= focusOffset;\n    });\n    const focusFragmentOffset = parseInt(focusFragment.dataset.fragmentStart);\n    const anchorNode = findRangeTarget(anchorFragment);\n    const focusNode = findRangeTarget(focusFragment);\n    const newSelection = window.getSelection();\n    if (newSelection != null && anchorNode != null && focusNode != null) {\n        newSelection.setBaseAndExtent(anchorNode, anchorOffset - anchorFragmentOffset, focusNode, focusOffset - focusFragmentOffset);\n    }\n}\nexports.default = setDomSelection;\n//# sourceMappingURL=setDomSelection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getBlockNumber(value, blockKey) {\n    let block = null;\n    for (let i = 0; i <= value.length; i++) {\n        const val = value[i];\n        if (val.type === 'block-start' && val.blockKey === blockKey) {\n            return i;\n        }\n        i++;\n    }\n}\nexports.default = getBlockNumber;\n//# sourceMappingURL=getBlockNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst valueFromText_1 = require(\"../valueFromText\");\nconst getDomSelection_1 = require(\"../selection/getDomSelection\");\nfunction onInput(editorState, _event) {\n    const event = _event;\n    const position = getDomSelection_1.default(editorState.list);\n    if (position === null) {\n        console.warn('cant get start and end selection');\n        return editorState;\n    }\n    event.preventDefault();\n    const { start, end } = position;\n    if (event.inputType !== 'insertText' || event.data == null) {\n        return editorState;\n    }\n    const text = event.data;\n    const changed = editorState.change({\n        start: start - 2,\n        end: start,\n        value: valueFromText_1.default(text),\n    }).change({\n        start: +1,\n        end: start + 1,\n        value: []\n    });\n    return changed;\n}\nexports.default = onInput;\n//# sourceMappingURL=onInput.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"../commands\");\nfunction onCut(editorState, event) {\n    event.preventDefault();\n    document.execCommand('copy');\n    return commands_1.removeRange(editorState, editorState.start, editorState.end);\n}\nexports.default = onCut;\n//# sourceMappingURL=onCut.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getDomSelection_1 = require(\"../selection/getDomSelection\");\nconst commands_1 = require(\"../commands\");\nfunction onSelectionChange(editorState) {\n    const result = getDomSelection_1.default(editorState.list);\n    if (result != null) {\n        return commands_1.updateSelection(editorState, result);\n    }\n}\nexports.default = onSelectionChange;\n//# sourceMappingURL=onSelectionChange.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst findAfter_1 = require(\"./findAfter\");\nexports.findAfter = findAfter_1.default;\nconst findBefore_1 = require(\"./findBefore\");\nexports.findBefore = findBefore_1.default;\nconst getIndexAfter_1 = require(\"./getIndexAfter\");\nexports.getIndexAfter = getIndexAfter_1.default;\nconst getIndexBefore_1 = require(\"./getIndexBefore\");\nexports.getIndexBefore = getIndexBefore_1.default;\nconst EditorState_1 = require(\"./EditorState\");\nexports.EditorState = EditorState_1.default;\nconst getNextCharacterIndex_1 = require(\"./getNextCharacterIndex\");\nexports.getNextCharacterIndex = getNextCharacterIndex_1.default;\nconst getPreviousCharacterIndex_1 = require(\"./getPreviousCharacterIndex\");\nexports.getPreviousCharacterIndex = getPreviousCharacterIndex_1.default;\nconst change_1 = require(\"./EditorState/change\");\nexports.change = change_1.default;\nconst onKeyDown_1 = require(\"./handlers/onKeyDown\");\nexports.onKeyDown = onKeyDown_1.default;\nconst onPaste_1 = require(\"./handlers/onPaste\");\nexports.onPaste = onPaste_1.default;\nconst createTextFragments_1 = require(\"./createTextFragments\");\nexports.createTextFragments = createTextFragments_1.default;\nconst rawToFlat_1 = require(\"./rawToFlat\");\nexports.rawToFlat = rawToFlat_1.default;\nconst getBlocksForRange_1 = require(\"./getBlocksForRange\");\nexports.getBlocksForRange = getBlocksForRange_1.default;\nconst textToFlat_1 = require(\"./textToFlat\");\nexports.textToFlat = textToFlat_1.default;\nconst textToListIndex_1 = require(\"./textToListIndex\");\nexports.textToListIndex = textToListIndex_1.default;\nconst getDomSelection_1 = require(\"./selection/getDomSelection\");\nexports.getDomSelection = getDomSelection_1.default;\nconst setDomSelection_1 = require(\"./selection/setDomSelection\");\nexports.setDomSelection = setDomSelection_1.default;\nconst valueFromText_1 = require(\"./valueFromText\");\nexports.valueFromText = valueFromText_1.default;\nconst getBlockNumber_1 = require(\"./getBlockNumber\");\nexports.getBlockNumber = getBlockNumber_1.default;\nconst getBlockOffset_1 = require(\"./getBlockOffset\");\nexports.getBlockOffset = getBlockOffset_1.default;\nconst onInput_1 = require(\"./handlers/onInput\");\nexports.onInput = onInput_1.default;\nconst onCut_1 = require(\"./handlers/onCut\");\nexports.onCut = onCut_1.default;\nconst onSelectionChange_1 = require(\"./handlers/onSelectionChange\");\nexports.onSelectionChange = onSelectionChange_1.default;\nconst flatToTree_1 = require(\"./flatToTree\");\nexports.flatToTree = flatToTree_1.default;\n//# sourceMappingURL=index.js.map","import App from './App.svelte';\nimport { EditorState } from '@zettel/core'\n\nconst text = `[One Line][And another line of text][And another line]`\nconst initialEditorState = EditorState.fromJSON({\n  text,\n  ranges: [],\n  entityMap: {}\n})\n\nvar app = new App({\n  target: document.body,\n  props: {\n    editorState: initialEditorState\n  }\n});\n\nexport default app;"],"names":["this","rawToFlat_1","constants_1","EditorState_1","__1","getPreviousCharacterIndex_1","flatToTree_1","commands_1","getDomSelection_1","onKeyDown_1","text","EditorState"],"mappings":"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"}